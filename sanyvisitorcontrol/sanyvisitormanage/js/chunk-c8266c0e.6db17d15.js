(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8266c0e"],{"04a8":function(e,t,a){"use strict";var r=a("102f"),o=a.n(r);o.a},"102f":function(e,t,a){},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},5176:function(e,t,a){e.exports=a("51b6")},"6b54":function(e,t,a){"use strict";a("3846");var r=a("cb7c"),o=a("0bfb"),i=a("9e1e"),s="toString",n=/./[s],l=function(e){a("2aba")(RegExp.prototype,s,e,!0)};a("79e5")(function(){return"/a/b"!=n.call({source:"a",flags:"b"})})?l(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):n.name!=s&&l(function(){return n.call(this)})},"920c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticClass:"marginTop20",attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{},[r("el-tree",{ref:"tree",attrs:{data:e.dataTree,props:e.defaultProps,"node-key":"id","default-expanded-keys":[e.defaultData],"highlight-current":"","show-checkbox":""},on:{"node-click":e.handleNodeClick}})],1)]),r("el-col",{attrs:{span:20}},[r("div",{},[r("el-form",{staticClass:"marginTop20 common-form-inline dataPhoto",attrs:{inline:!0,model:e.formInline,size:"medium"}},[r("el-form-item",{attrs:{label:"员工姓名"}},[r("el-input",{staticClass:"dataPhoto",attrs:{placeholder:"员工姓名"},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}})],1),r("el-form-item",{attrs:{label:"是否录入照片"}},[r("el-select",{staticClass:"dataPhoto",attrs:{placeholder:"请选择"},model:{value:e.formInline.enterPhoto,callback:function(t){e.$set(e.formInline,"enterPhoto",t)},expression:"formInline.enterPhoto"}},[r("el-option",{attrs:{label:"全部",value:"0"}}),r("el-option",{attrs:{label:"未录入",value:"2"}}),r("el-option",{attrs:{label:"已录入",value:"1"}})],1)],1),r("el-form-item",{attrs:{label:"是否授权"}},[r("el-select",{staticClass:"dataPhoto",attrs:{placeholder:"请选择"},model:{value:e.formInline.meetDemand,callback:function(t){e.$set(e.formInline,"meetDemand",t)},expression:"formInline.meetDemand"}},[r("el-option",{attrs:{label:"全部",value:""}}),r("el-option",{attrs:{label:"是",value:"1"}}),r("el-option",{attrs:{label:"否",value:"2"}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.uploadTemplate}},[e._v("下载模板")])],1),r("el-form-item",[r("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{display:"inline-block",background:"none"},attrs:{id:"formBiao",limit:1,accept:".xls,.xlsx",action:"/userPushRecord/find/all","on-change":e.beforeUpload,"on-exceed":e.handleExceed,"on-remove":e.removeDoc,"http-request":e.uploadSectionFile,"auto-upload":!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{slot:"trigger",id:"upload-document",type:"primary"},slot:"trigger"},[e._v("数据导入")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v("确定")])],1)],1),r("el-form-item",[r("el-upload",{ref:"uploadImage",staticClass:"upload-demo",staticStyle:{display:"inline-block",background:"none"},attrs:{id:"formImage",limit:1,accept:".zip",action:"/userPushRecord/find/all","on-change":e.beforeUploadImages,"on-exceed":e.handleExceedImages,"on-remove":e.removeImages,"before-upload":e.onBeforeUploadImage,"http-request":e.uploadSectionImageFile,"auto-upload":!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShowImage,expression:"isShowImage"}],attrs:{slot:"trigger",id:"upload-images",type:"primary"},slot:"trigger"},[e._v("照片导入")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isShowImage,expression:"!isShowImage"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.submitUploadImages}},[e._v("确定")])],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),r("el-form-item",[r("el-button",{staticStyle:{background:"#ff404a"},attrs:{type:"danger"},on:{click:e.deleteContentItemSubmit}},[e._v("删除")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.batchAuthoriaztion}},[e._v("批量授权")])],1)],1),r("div",{staticClass:"common-table"},[r("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",height:"590px",data:e.tableData,"header-row-class-name":"table-header"},on:{"selection-change":e.handleSelectionChangeDelete}},[r("el-table-column",{attrs:{type:"selection",label:"选择",width:"80"}}),r("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),r("el-table-column",{attrs:{prop:"sanyBasicShrOrg.orgText",label:"归属部门"}}),r("el-table-column",{attrs:{prop:"userName",label:"姓名"}}),r("el-table-column",{attrs:{prop:"telephone",label:"电话号码"}}),r("el-table-column",{attrs:{prop:"idCard",width:"200",label:"身份证号"}}),r("el-table-column",{attrs:{prop:"isFa",label:"是否授权"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.row.isSub,expression:"scope.row.isSub==='1'"}],attrs:{size:"mini",type:"text"}},[e._v("已授权")]),r("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.row.isSub,expression:"scope.row.isSub==='2'"}],attrs:{size:"mini",type:"text"}},[e._v("未授权")])]}}])}),r("el-table-column",{attrs:{label:"照片上传"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"!==t.row.imgVerify?r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.handleLookPhoto(t.$index,t.row)}}},[e._v("查看照片")]):r("div",[e._v("未上传")])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.handleEditOuterWorkerManage(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1)],1),r("div",{staticClass:"marginTop10 text-right"},[r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[20,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),r("div",{staticClass:"addVisitorDialog"},[r("el-dialog",{attrs:{title:"员工管理信息",width:"1200px",visible:e.editOuterWorkerManageList,"close-on-click-modal":!1,"before-close":e.editOuterWorkerManageDialogClose},on:{"update:visible":function(t){e.editOuterWorkerManageList=t}}},[r("el-form",{ref:"workerManageList",staticClass:"marginTop20 common-form-inline addVisitorDialog_form editWorkerMaganage",attrs:{model:e.outWorkerEditForm,rules:e.editRules,size:"medium","label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.outWorkerEditForm.userName,callback:function(t){e.$set(e.outWorkerEditForm,"userName",t)},expression:"outWorkerEditForm.userName"}})],1),r("el-form-item",{attrs:{label:"电话号码",prop:"telephone"}},[r("el-input",{attrs:{placeholder:"请输入电话号码"},on:{change:e.editChangeTelephoto},model:{value:e.outWorkerEditForm.telephone,callback:function(t){e.$set(e.outWorkerEditForm,"telephone",t)},expression:"outWorkerEditForm.telephone"}})],1),r("el-form-item",{attrs:{label:"身份证号",prop:"idCard"}},[r("el-input",{attrs:{placeholder:"请输入身份证号"},on:{change:e.editInputIDCard},model:{value:e.outWorkerEditForm.idCard,callback:function(t){e.$set(e.outWorkerEditForm,"idCard",t)},expression:"outWorkerEditForm.idCard"}})],1),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio",{staticClass:"maleStyle",attrs:{label:"1"},model:{value:e.editSexRadio,callback:function(t){e.editSexRadio=t},expression:"editSexRadio"}},[e._v("男")]),r("el-radio",{staticClass:"femaleStyle",attrs:{label:"2"},model:{value:e.editSexRadio,callback:function(t){e.editSexRadio=t},expression:"editSexRadio"}},[e._v("女")])],1),r("el-form-item",{attrs:{label:"员工类别",prop:"personType"}},[r("el-select",{attrs:{placeholder:"请选择员工类别"},on:{change:e.editSelectPersonType},model:{value:e.outWorkerEditForm.editPersonType,callback:function(t){e.$set(e.outWorkerEditForm,"editPersonType",t)},expression:"outWorkerEditForm.editPersonType"}},[r("el-option",{attrs:{label:"内部员工",value:"内部员工"}}),r("el-option",{attrs:{label:"外部员工",value:"外部员工"}})],1)],1),r("el-form-item",{attrs:{label:"员工工号"}},[r("el-input",{attrs:{placeholder:"请输入工号",disabled:e.isShowAddListTree},on:{change:e.editInputUserNo},model:{value:e.outWorkerEditForm.userNo,callback:function(t){e.$set(e.outWorkerEditForm,"userNo",t)},expression:"outWorkerEditForm.userNo"}})],1),r("el-form-item",{attrs:{label:"出生日期"}},[r("el-date-picker",{attrs:{disabled:"",type:"date",placeholder:"请选择出生年月",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.editDateValue,callback:function(t){e.editDateValue=t},expression:"editDateValue"}})],1),r("el-form-item",{attrs:{label:"员工类型"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.editSelectAddRole},model:{value:e.editRoleName,callback:function(t){e.editRoleName=t},expression:"editRoleName"}},e._l(e.editSelectRoleOptions,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"所属园区"}},[r("el-select",{attrs:{placeholder:"请选择",disabled:e.isDisabledParkSelect},on:{change:e.editSelectAddGuishuPark},model:{value:e.editParkName,callback:function(t){e.editParkName=t},expression:"editParkName"}},e._l(e.editSelectParkOptions,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"上传照片"}},[r("div",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formDataAdd.photo,callback:function(t){e.$set(e.formDataAdd,"photo",t)},expression:"formDataAdd.photo"}},[r("el-option",{attrs:{label:"本地上传",value:"本地上传"}}),r("el-option",{attrs:{label:"拍照上传",value:"拍照上传"}})],1),r("el-upload",{ref:"uploadPerson0",staticClass:"upload-demo",attrs:{id:"uploadPerson0",action:"string",accept:"image/jpeg,image/png,image/jpg","list-type":"picture","auto-upload":!0,"file-list":e.fileList,"before-upload":e.onBeforeUploadImage,"http-request":e.UploadImage,"on-remove":e.handlePictureCardRemove,"before-remove":e.onBeforeRemoveImage,"on-exceed":e.handleExceedUpload,limit:1}},[r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"本地上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='本地上传'"}],attrs:{size:"small",type:"primary"}},[e._v("点击本地上传")])],1)]),r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"拍照上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='拍照上传'"}],staticStyle:{position:"absolute",top:"38px",left:"0px"},attrs:{size:"small",type:"primary"},on:{click:function(t){e.handlePhotoUpload()}}},[e._v("点击拍照上传")])],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.imageGoBackShow,expression:"imageGoBackShow"}],staticStyle:{position:"absolute",top:"10px",left:"420px","z-index":"100"}},[r("img",{staticStyle:{width:"400px",height:"225px"},attrs:{src:e.uploadImageUrlDiv,alt:""}})])]),r("el-form-item",{staticClass:"currentOrg",staticStyle:{width:"700px"},attrs:{label:"当前归属组织"}},[e._v(e._s(e.formDataAdd.orgText)+"\n            ")]),r("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"归属组织",prop:"org"}},[r("el-tree",{attrs:{data:e.dataTanchuangTree,props:e.defaultPropsTan},on:{"node-click":e.tanchuangClick},model:{value:e.formDataAdd.org,callback:function(t){e.$set(e.formDataAdd,"org",t)},expression:"formDataAdd.org"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.editOuterWorkerManageCancel()}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.editOuterWorkerManageDialogAddFn(e.outWorkerEditForm)}}},[e._v("提交")])],1)],1)],1),r("el-dialog",{attrs:{title:"园区员工管理","close-on-click-modal":!1,visible:e.dialogVisibles,width:"1200px"},on:{"update:visible":function(t){e.dialogVisibles=t},close:e.handleDialogClose}},[r("div",{staticClass:"addVisitorDialog"},[r("el-form",{ref:"addOuterWorkerInfo",staticClass:"marginTop20 common-form-inline addVisitorDialog_form",attrs:{inline:!0,model:e.formDataAdd,rules:e.rules,size:"medium","label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formDataAdd.username,callback:function(t){e.$set(e.formDataAdd,"username",t)},expression:"formDataAdd.username"}})],1),r("el-form-item",{attrs:{label:"电话号码",prop:"tel"}},[r("el-input",{attrs:{placeholder:"请输入电话号码"},on:{change:e.changeTelephoto},model:{value:e.formDataAdd.tel,callback:function(t){e.$set(e.formDataAdd,"tel",t)},expression:"formDataAdd.tel"}})],1),r("el-form-item",{attrs:{label:"身份证号",prop:"card"}},[r("el-input",{attrs:{placeholder:"请输入身份证号"},on:{change:e.handleInputIDCard},model:{value:e.formDataAdd.card,callback:function(t){e.$set(e.formDataAdd,"card",t)},expression:"formDataAdd.card"}})],1),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio",{staticClass:"maleStyle",attrs:{label:"1"},model:{value:e.sexRadio,callback:function(t){e.sexRadio=t},expression:"sexRadio"}},[e._v("男")]),r("el-radio",{staticClass:"femaleStyle",attrs:{label:"2"},model:{value:e.sexRadio,callback:function(t){e.sexRadio=t},expression:"sexRadio"}},[e._v("女")])],1),r("el-form-item",{attrs:{label:"员工类别",prop:"personType"}},[r("el-select",{attrs:{placeholder:"请选择员工类别"},on:{change:e.selectPersonType},model:{value:e.formDataAdd.personType,callback:function(t){e.$set(e.formDataAdd,"personType",t)},expression:"formDataAdd.personType"}},[r("el-option",{attrs:{label:"内部员工",value:"内部员工"}}),r("el-option",{attrs:{label:"外部员工",value:"外部员工"}})],1)],1),r("el-form-item",{attrs:{label:"员工工号",prop:"userno"}},[r("el-input",{attrs:{placeholder:"请输入员工工号",disabled:e.isShowAddListTree},on:{blur:e.blurUserNoChangeFun,change:e.changeUserNumber},model:{value:e.formDataAdd.userno,callback:function(t){e.$set(e.formDataAdd,"userno",t)},expression:"formDataAdd.userno"}})],1),r("el-form-item",{attrs:{label:"出生日期"}},[r("el-date-picker",{attrs:{disabled:"",type:"date",placeholder:"请选择出生年月",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.selectDateValue,callback:function(t){e.selectDateValue=t},expression:"selectDateValue"}})],1),r("el-form-item",{attrs:{label:"员工类型"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectAddRole},model:{value:e.selectRoleName,callback:function(t){e.selectRoleName=t},expression:"selectRoleName"}},e._l(e.selectRoleOptions,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"所属园区"}},[r("el-select",{attrs:{disabled:e.isDisabledParkSelect,placeholder:"请选择"},on:{change:e.selectAddGuishuPark},model:{value:e.selectGuishuParkName,callback:function(t){e.selectGuishuParkName=t},expression:"selectGuishuParkName"}},e._l(e.selectParkOptions,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{staticStyle:{width:"700px"},attrs:{label:"上传照片",prop:"photo"}},[r("div",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formDataAdd.photo,callback:function(t){e.$set(e.formDataAdd,"photo",t)},expression:"formDataAdd.photo"}},[r("el-option",{attrs:{label:"本地上传",value:"本地上传"}}),r("el-option",{attrs:{label:"拍照上传",value:"拍照上传"}})],1),r("el-upload",{ref:"uploadPerson0",staticClass:"upload-demo",attrs:{id:"uploadPerson0",action:"string",accept:"image/jpeg,image/png,image/jpg","list-type":"picture","show-file-list":!0,"before-upload":e.onBeforeUploadImage,"before-remove":e.onBeforeRemoveImage,"http-request":e.UploadImage,"on-preview":e.handlePictureCardPreview,"on-remove":e.handlePictureCardRemove,"on-exceed":e.handleExceedUpload,limit:1}},[r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"本地上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='本地上传'"}],attrs:{size:"small",type:"primary"}},[e._v("点击本地上传")])],1)]),r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"拍照上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='拍照上传'"}],staticStyle:{position:"absolute",top:"38px",left:"0px"},attrs:{size:"small",type:"primary"},on:{click:function(t){e.handlePhotoUpload()}}},[e._v("点击拍照上传")])],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.imageGoBackShow,expression:"imageGoBackShow"}],staticStyle:{position:"absolute",top:"10px",left:"420px","z-index":"100"}},[r("img",{staticStyle:{width:"400px",height:"225px"},attrs:{src:e.uploadImageUrlDiv,alt:""}})])]),r("el-form-item",{staticStyle:{width:"700px"},attrs:{label:"当前归属组织"}},[e._v(e._s(e.formDataAdd.orgText))]),r("el-form-item",{staticStyle:{width:"700px"},attrs:{label:"归属组织",prop:"org"}},[r("el-tree",{attrs:{data:e.dataTanchuangTree,props:e.defaultPropsTan},on:{"node-click":e.tanchuangClick},model:{value:e.formDataAdd.org,callback:function(t){e.$set(e.formDataAdd,"org",t)},expression:"formDataAdd.org"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleDialogCancle}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogConfirm}},[e._v("确 定")])],1)]),r("div",{staticClass:"tempVisitInput_camera"},[r("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"1100px","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"fatheramalltitle"},[r("input",{attrs:{type:"hidden",value:"",id:"photoUrl"}}),r("iframe",{attrs:{width:"100%",height:"500",frameborder:"0",src:"http://10.19.8.21:8181/sanyvisitorcontrol/photo/photo.html",id:"myframe",name:"myframe"}}),r("el-tooltip",{staticClass:"small-title",attrs:{content:"必须点击拍照后再确定，否则将保存默认图片显示区内图片",placement:"top"}},[r("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("381d"),alt:""}})])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirmCamera}},[e._v("确 定")])],1)])],1),r("el-dialog",{staticClass:"edit-form",attrs:{title:"图片信息",visible:e.dialogVisibleImg,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisibleImg=t}}},[r("div",{staticClass:"inputText",staticStyle:{display:"flex","justify-content":"center","align-items":"center",overflow:"hidden"}},[r("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.photoImageUrl,alt:""}})]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.dialogVisibleImg=!1}}},[e._v("取消")])],1)])],1)},o=[],i=a("5176"),s=a.n(i),n=(a("7514"),a("6b54"),a("96cf"),a("3b8d")),l=(a("cadf"),a("551c"),a("097d"),a("c1fb"),a("b1ef")),d=(a("47d5"),a("365c")),u=a("9a38"),c={name:"ExternalStaffManage",data:function(){return{isRegexg:!1,EditFormUserNo:"",editFormUserTelephone:"",fileList:[],dataTree:[],defaultData:0,orgId:[],defaultProps:{children:"nodes",label:"orgText",disabled:this.disabledFn},sexRadio:"1",editSexRadio:"1",multipleSelectionDel:[],editOuterWorkerManageList:!1,editRules:{userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],telephone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证",trigger:"blur"}]},outWorkerEditForm:{userName:"",telephone:"",idCard:"",editId:"",userNo:"",editPersonType:""},editPersonTypeToHoutai:"",editRoleName:"",editRoleCode:"",editDateValue:"",editParkName:"",editParkCode:"",editSelectParkOptions:[],editSelectRoleOptions:[{value:"1",label:"员工"},{value:"2",label:"门岗"}],dialogVisibleBendiUpload:!1,dialogVisibleImg:!1,dialogVisibles:!1,dialogVisible:!1,formDataAdd:{username:"",userno:"",tel:"",card:"",photo:"",selecetSex:"",personType:"",org:"",orgText:""},rules:{username:[{required:!0,message:"请输入姓名",trigger:"blur"}],tel:[{required:!0,message:"请输入电话号码",trigger:"blur"}],card:[{required:!0,message:"请输入身份证",trigger:"blur"}],personType:[{required:!0,message:"请输入员工类型",trigger:"blur"}],photo:[{required:!0,message:"请上传图片",trigger:"blur"}],org:[{required:!0,message:"请选择组织",trigger:"blur"}]},selectRoleOptions:[{value:"1",label:"员工"},{value:"2",label:"门岗"}],roleCode:"",isRepeat:!1,selectParkOptions:[],selectRoleName:"",selectRoleCode:"",selectGuishuParkName:"",selectGuishuParkCode:"",selectDateValue:"",org:"",uploadImageUrl:"",photoPicture:"",uploadImageUrlDiv:"",imageGoBackShow:!0,dialogImageUrl:"",isUndisabeld:!0,isDisabledParkSelect:!1,idCardIsRepeat:"",telephoneIsRepeat:"",isUploadImage:!1,isShow:!0,isShowImage:!0,isShowAddListTree:!0,photoImageUrl:"",dataTanchuangTree:[],dataTanchuangInnerTree:[],orgID:"",uploadphotoPicture:"",defaultPropsTan:{children:"nodes",label:"orgText"},defaultPropsTanInner:{children:"nodes",label:"orgText"},formInline:{username:"",enterPhoto:"",meetDemand:""},tableData:[],currentPage:1,pageSize:20,total:0,isShowAddDialog:!1}},mounted:function(){this.getOuterTrees();var e=this.formInline,t=e.enterPhoto,a=e.meetDemand,r=e.username,o=this.currentPage,i=this.pageSize,s=this.orgId;this.getSearchListFun(t,a,r,s,o,i);var n="";this.getSelectParkItem(n),this.roleCode=sessionStorage.getItem("roleCode")},methods:{disabledFn:function(e,t){return 2===e.flag},getOuterTrees:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return 0,e.next=3,Object(d["L"])();case 3:t=e.sent,200===t.data.code&&(a=JSON.parse(t.data.data),console.log(a[0]),this.dataTree.push(a[0]),console.log("resTree:",this.dataTree)),this.defaultData=this.dataTree[0].id;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getSearchListFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a,r,o,i,s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["V"])(t,a,r,o,i,s);case 2:n=e.sent,200===n.data.code&&(this.tableData=n.data.data.list,this.total=n.data.data.total,console.log("主列表返回的list:",this.tableData));case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r,o,i,s){return e.apply(this,arguments)}return t}(),beforeUpload:function(e,t){this.isShow=!1},beforeUploadImages:function(e,t){this.isShowImage=!1},removeDoc:function(e,t){this.isShow=!0},removeImages:function(e,t){this.isShowImage=!0},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleExceedImages:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleInputIDCard:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Object(u["b"])(this.formDataAdd.card,this),this.formDataAdd.card.length>=14&&this.getStartTime(),e.next=4,Object(d["h"])(this.formDataAdd.card);case 4:if(t=e.sent,!t||200===t.data.code){e.next=9;break}return this.$message({type:"error",message:t.data.msg}),this.formDataAdd.card="",e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSelectionChangeDelete:function(e){this.multipleSelectionDel=e,console.log("multipleSelection:",this.multipleSelectionDel)},deleteContentItemSubmit:function(){var e=this;0!==this.multipleSelectionDel.length?this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t=e.multipleSelectionDel,a=0;a<t.length;a++){var r=t[a].id,o=t[a].userNo;e.delItemData(o,r)}}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({type:"error",message:"请选择要删除的对象"})},delItemData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var r,o,i,s,n,l,u,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["e"])(t,a);case 2:r=e.sent,r&&200===r.data.code&&(o=this.formInline,i=o.enterPhoto,s=o.meetDemand,n=o.username,l=this.currentPage,u=this.pageSize,c=this.orgId,this.getSearchListFun(i,s,n,c,l,u));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),batchAuthoriaztion:function(){var e=this;0!==this.multipleSelectionDel.length?this.$confirm("确定授权?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=e.multipleSelectionDel;console.log("multipleSelectionDel:",t);for(var a=[],r=0;r<t.length;r++){var o=t[r].personId;a.push(o)}e.getManyAuthoriaztion(a)}).catch(function(){e.$message({type:"info",message:"已取消授权"})}):this.$message({type:"error",message:"请选择要授权的对象"})},getManyAuthoriaztion:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,r,o,i,s,n,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["i"])(t);case 2:a=e.sent,a&&200===a.data.code&&(this.$message({type:"success",message:"授权成功"}),r=this.formInline,o=r.enterPhoto,i=r.meetDemand,s=r.username,n=this.currentPage,l=this.pageSize,u=this.orgId,this.getSearchListFun(o,i,s,u,n,l));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editInputIDCard:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,r,o,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Object(u["b"])(this.outWorkerEditForm.idCard,this),!(this.outWorkerEditForm.idCard.length>=14)){e.next=15;break}if(a=this.outWorkerEditForm.idCard,r=a.toString().substr(6,4),o=a.substr(10,2),i=a.substr(12,2),this.editDateValue=r+"-"+o+"-"+i,this.idCardIsRepeat===t){e.next=15;break}return e.next=10,Object(d["h"])(this.outWorkerEditForm.idCard);case 10:if(s=e.sent,!s||200===s.data.code){e.next=15;break}return this.$message({type:"error",message:s.data.msg}),this.outWorkerEditForm.idCard="",e.abrupt("return");case 15:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editChangeTelephoto:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Object(u["c"])(this.outWorkerEditForm.telephone,this),this.telephoneIsRepeat===t){e.next=6;break}return e.next=4,Object(d["p"])(this.outWorkerEditForm.telephone);case 4:a=e.sent,a&&200!==a.data.code?(this.$message({type:"error",message:a.data.msg}),this.outWorkerEditForm.telephone=""):"外部员工"===this.outWorkerEditForm.editPersonType&&(this.outWorkerEditForm.userNo=this.outWorkerEditForm.telephone,this.regExpUserNumberFun(this.outWorkerEditForm.telephone));case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),changeUserNumber:function(){"外部员工"===this.formDataAdd.personType&&(this.formDataAdd.userno=this.formDataAdd.tel,this.addregExpUserNumberFun(this.formDataAdd.userno)),"外部员工"===this.outWorkerEditForm.editPersonType&&(this.outWorkerEditForm.userNo=this.outWorkerEditForm.telephone,this.regExpUserNumberFun(this.outWorkerEditForm.userNo))},getStartTime:function(){var e=this.formDataAdd.card,t=e.toString().substr(6,4),a=e.substr(10,2),r=e.substr(12,2);this.selectDateValue=t+"-"+a+"-"+r},submitUpload:function(){var e=document.getElementsByClassName("el-upload-list__item is-ready");0!=e.length?this.$refs.upload.submit():this.$message({type:"warning",message:"请选择需要导入的模板！"})},uploadSectionFile:function(e){var t=e.file,a=new FormData(this.$refs.upload);a.append("file",t),this.uploadDataFun(a)},uploadDataFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["ab"])(t);case 2:a=e.sent,200===a.data.code&&(this.$message({type:"success",message:a.data.data}),console.log("res:",a),this.$refs.upload.clearFiles(),this.isShow=!0);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submitUploadImages:function(){var e=document.getElementsByClassName("el-upload-list__item is-ready");0!=e.length?this.$refs.uploadImage.submit():this.$message({type:"warning",message:"请选择需要导入的模板！"})},uploadSectionImageFile:function(e){var t=e.file,a=new FormData(this.$refs.uploadImage);a.append("file",t),this.uploadImageDataFun(a)},uploadImageDataFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,r,o,i,s,n,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["cb"])(t);case 2:a=e.sent,200===a.data.code&&(this.$message({type:"success",message:a.data.data}),r=this.formInline,o=r.enterPhoto,i=r.meetDemand,s=r.username,n=this.currentPage,l=this.pageSize,u=this.orgId,this.getSearchListFun(o,i,s,u,n,l),this.$refs.uploadImage.clearFiles(),this.isShowImage=!0);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleNodeClick:function(e,t,a){console.log("data:",e),console.log("node:",t),console.log("aa:",a)},onSubmit:function(){var e=this.formInline,t=e.enterPhoto,a=e.meetDemand,r=e.username,o=this.currentPage,i=this.pageSize;this.orgId=this.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),this.getSearchListFun(t,a,r,this.orgId,o,i)},handleSizeChange:function(e){var t=this.formInline,a=t.enterPhoto,r=t.meetDemand,o=t.username;this.pageSize=e;var i=this.currentPage;this.orgId=this.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),this.getSearchListFun(a,r,o,this.orgId,i,this.pageSize)},handleCurrentChange:function(e){var t=this.formInline,a=t.enterPhoto,r=t.meetDemand,o=t.username;this.currentPage=e;this.pageSize;this.orgId=this.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),this.getSearchListFun(a,r,o,this.orgId,this.currentPage,this.pageSize)},handleLookPhoto:function(e,t){this.dialogVisibleImg=!0,this.photoImageUrl=t.imgUrlUpload,console.log("imageUrl:",this.photoImageUrl)},handleLookCardPhoto:function(e,t){console.log(e,t)},handleAdd:function(){this.dialogVisibles=!0,console.log("coleCode:",this.roleCode),"2"===this.roleCode?(this.isDisabledParkSelect=!0,this.IsRoleCodeMengang(),this.addDepartmentMengangTree()):(this.isDisabledParkSelect=!1,this.addDepatment()),this.formDataAdd.username="",this.formDataAdd.userno="",this.formDataAdd.tel="",this.formDataAdd.card="",this.formDataAdd.personType="",this.formDataAdd.org="",this.selectDateValue="",this.sexRadio="1",this.selectRoleName="",this.selectGuishuParkName="",this.uploadImageUrl="",this.selectRoleCode="",this.selectGuishuParkCode="",this.formDataAdd.orgText="",this.$refs.uploadPerson0.clearFiles(),this.imageGoBackShow=!1},IsRoleCodeMengang:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["l"])();case 2:t=e.sent,t&&200===t.data.code&&(this.selectGuishuParkName=t.data.data.parkName,this.selectGuishuParkCode=t.data.data.parkCode);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),changeTelephoto:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Object(u["c"])(this.formDataAdd.tel,this),e.next=3,Object(d["p"])(this.formDataAdd.tel);case 3:t=e.sent,t&&200!==t.data.code?(this.$message({type:"error",message:t.data.msg}),this.formDataAdd.tel=""):"外部员工"===this.formDataAdd.personType&&(this.formDataAdd.userno=this.formDataAdd.tel,this.addregExpUserNumberFun(this.formDataAdd.tel));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addDepatment:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["E"])();case 2:t=e.sent,200===t.data.code&&(this.dataTanchuangTree=JSON.parse(t.data.data));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addDepartmentMengangTree:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["k"])();case 2:t=e.sent,200===t.data.code&&(this.dataTanchuangTree=JSON.parse(t.data.data));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addDepatmentInner:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["F"])();case 2:t=e.sent,200===t.data.code&&(this.dataTanchuangInnerTree=JSON.parse(t.data.data));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),tanchuangClick:function(e){console.log("园区员工管理",e),"50020020"!=e.orgId&&(this.formDataAdd.org=e.orgId,this.orgID=e.orgId,this.formDataAdd.orgText=e.orgText)},tanchuangInnerClick:function(e){this.formDataAdd.org=e.orgId,this.formDataAdd.orgText=e.orgText},handleExceedUpload:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},onBeforeUploadImage:function(e){var t="image/jpeg"===e.type||"image/jpg",a=e.size/1024/1024<2;return t||this.$message.error("上传文件只能是图片格式!"),a||this.$message.error("上传文件大小不能超过 2MB!"),t&&a},UploadImage:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.formDataAdd.card,a=new FormData(document.getElementById("uploadPerson0")),a.append("file",t.file),e.next=5,Object(d["bb"])(a);case 5:r=e.sent,200===r.data.code&&(this.$message({type:"success",message:"上传成功"}),this.uploadImageUrl=r.data.data.photoUrl,this.photoPicture=r.data.data.photoPicture,this.imageGoBackShow=!1,console.log("上传图片后返回的路径data：",this.uploadImageUrl));case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getTakePhoto:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["db"])(t);case 2:a=e.sent,200===a.data.code&&(this.$message({type:"success",message:"上传成功"}),this.uploadImageUrl=a.data.data.photoUrl,this.uploadImageUrlDiv=a.data.data.photoUrl,this.photoPicture=a.data.data.photoPicture,console.log("拍照返回的路径data：",this.uploadImageUrl),this.imageGoBackShow=!0);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e(),Webcam.reset()}).catch(function(e){})},handlePhotoUpload:function(){this.dialogVisible=!0,myframe.window.Webcam.attach("#my_camera")},handleConfirmCamera:function(){this.dialogVisible=!1;var e=myframe.window.getTakePhotoUrl();console.log("图片地址:",e),this.getTakePhoto(e),myframe.window.Webcam.reset();var t=this.formInline,a=t.enterPhoto,r=t.meetDemand,o=t.username,i=this.currentPage,s=this.pageSize,n=this.orgId;this.getSearchListFun(a,r,o,n,i,s)},handleDialogConfirm:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.addOuterWorkerInfo.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var r,o,i,s,n,l,d,u,c,h,m,p,g,f,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(r=t.formDataAdd,o=r.username,i=r.userno,s=r.tel,n=r.card,l=r.personType,d=r.org,!t.isRepeat){e.next=6;break}return t.$message({type:"error",message:"保存失败，此工号已存在"}),e.abrupt("return");case 6:u=t.selectDateValue,c=t.sexRadio,h=t.selectRoleName,m=t.selectRoleCode,p=t.selectGuishuParkName,g=t.selectGuishuParkCode,f=t.uploadImageUrl,b=t.photoPicture,"男"===c?t.sexRadio="1":"女"===c&&(t.sexRadio="2"),"内部员工"===l?t.personType="01":"外部员工"===l&&(t.personType="02"),t.addApplyRequestData(o,i,s,n,t.sexRadio,u,d,f,m,h,g,p,t.personType,b);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),selectAddRole:function(e){var t={};t=this.selectRoleOptions.find(function(t){return t.value===e}),this.selectRoleName=t.label,this.selectRoleCode=t.value},selectAddGuishuPark:function(e){var t={};t=this.selectParkOptions.find(function(t){return t.value===e}),this.selectGuishuParkName=t.label,this.selectGuishuParkCode=t.value},selectPersonType:function(){"内部员工"===this.formDataAdd.personType?(this.isShowAddListTree=!1,this.formDataAdd.userno=""):"外部员工"===this.formDataAdd.personType&&(this.isShowAddListTree=!0,this.formDataAdd.userno=this.formDataAdd.tel,this.addregExpUserNumberFun(this.formDataAdd.tel))},getRoleList:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["S"])();case 2:if(t=e.sent,200===t.data.code)for(a=t.data.data,r=0;r<a.length;r++)o={},o.value=a[r].roleCode,o.label=a[r].roleName,this.selectRoleOptions.push(o);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getSelectParkItem:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,r,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["N"])(t);case 2:if(a=e.sent,200===a.data.code)for(r=a.data.data,o=0;o<r.length;o++)i={},i.value=r[o].parkCode,i.label=r[o].parkName,this.selectParkOptions.push(i),this.editSelectParkOptions.push(i);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addApplyRequestData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a,r,o,i,s,n,l,u,c,h,m,p,g){var f,b,v,k,y,x;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["K"])(t,a,r,o,i,s,n,l,u,c,h,m,p,g);case 2:if(f=e.sent,f&&200===f.data.code){e.next=6;break}return this.$message({type:"error",message:f.data.msg}),e.abrupt("return");case 6:this.dialogVisibles=!1,this.$message({type:"success",message:f.data.data}),b=this.formInline,v=b.enterPhoto,k=b.meetDemand,y=this.currentPage,x=this.pageSize,this.orgId=this.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),this.getSearchListFun(v,k,this.formInline.username,this.orgId,y,x),this.formDataAdd.username="",this.formDataAdd.tel="",this.formDataAdd.card="",this.formDataAdd.personType="",this.selectDateValue="",this.sexRadio="1",this.selectRoleName="",this.selectRoleCode="",this.selectGuishuParkName="",this.selectGuishuParkCode="",this.formDataAdd.org="",this.uploadImageUrl="",this.photoImageUrl="",this.formDataAdd.orgText="",this.uploadImageUrlDiv="",this.$refs.uploadPerson0.clearFiles();case 28:case"end":return e.stop()}},e,this)}));function t(t,a,r,o,i,s,n,l,d,u,c,h,m,p){return e.apply(this,arguments)}return t}(),handleDialogCancle:function(){this.dialogVisibles=!1,this.isRepeat=!1,this.$emit("cancleadddialog",this.dialogVisibles)},handleDialogClose:function(){this.dialogVisibles=!1,this.isRepeat=!1,this.$emit("confirmadddialog",this.dialogVisibles)},editSelectPersonType:function(){"内部员工"===this.outWorkerEditForm.editPersonType?(this.isShowAddListTree=!1,this.outWorkerEditForm.userNo=""):"外部员工"===this.outWorkerEditForm.editPersonType&&(this.isShowAddListTree=!0,this.outWorkerEditForm.userNo=this.outWorkerEditForm.telephone,this.regExpUserNumberFun(this.outWorkerEditForm.userNo))},editOuterWorkerManageDialogClose:function(){this.editOuterWorkerManageList=!1,this.isRepeat=!1,this.imageGoBackShow=!0,this.$refs.uploadPerson0.clearFiles()},editOuterWorkerManageCancel:function(){this.editOuterWorkerManageList=!1,this.isRepeat=!1,this.imageGoBackShow=!0,this.$refs.uploadPerson0.clearFiles()},editSelectAddGuishuPark:function(e){var t={};t=this.editSelectParkOptions.find(function(t){return t.value===e}),this.editParkName=t.label,this.editParkCode=t.value},editInputUserNo:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.outWorkerEditForm.userNo,console.log("userNo:",t),e.next=4,Object(d["g"])(t);case 4:a=e.sent,a&&200!==a.data.code?(this.isRepeat=!0,this.$message({type:"error",message:"员工工号不可用"})):this.isRepeat=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),editSelectAddRole:function(e){var t={};t=this.editSelectRoleOptions.find(function(t){return t.value===e}),this.editRoleName=t.label,this.editRoleCode=t.value},handleEditOuterWorkerManage:function(e,t){console.log("row:",t),this.idCardIsRepeat=t.idCard,this.telephoneIsRepeat=t.telephone,this.editOuterWorkerManageList=!0,"2"===this.roleCode?(this.isDisabledParkSelect=!0,this.IsRoleCodeMengang(),this.addDepartmentMengangTree()):(this.isDisabledParkSelect=!1,this.addDepatment()),this.imageGoBackShow=!0,this.outWorkerEditForm=s()({},t),this.outWorkerEditForm.userName=t.userName,this.outWorkerEditForm.telephone=t.telephone,this.editFormUserTelephone=t.telephone,this.outWorkerEditForm.idCard=t.idCard,this.outWorkerEditForm.userNo=t.userNo,this.EditFormUserNo=t.userNo;var a=t.idCard.toString().substr(6,4),r=t.idCard.substr(10,2),o=t.idCard.substr(12,2),i=a+"-"+r+"-"+o;this.editDateValue=t.brithday||i,this.editRoleName=t.roleName,this.editRoleName=t.roleName,this.editRoleCode=t.roleCode,this.editParkName=t.parkName,this.editParkCode=t.parkCode,this.outWorkerEditForm.editId=t.id,this.uploadImageUrlDiv=t.imgUrlUpload,this.uploadphotoPicture=t.photoPicture,this.orgID=t.org,this.formDataAdd.orgText=t.sanyBasicShrOrg.orgText,"01"===t.employerType?(this.isShowAddListTree=!1,this.outWorkerEditForm.editPersonType="内部员工"):"02"===t.employerType&&(this.isShowAddListTree=!0,this.outWorkerEditForm.editPersonType="外部员工"),this.editSexRadio=t.userSex,this.$refs.uploadPerson0.clearFiles()},editOuterWorkerManageDialogAddFn:function(e){var t=this;this.isRepeat?this.$message({type:"error",message:"保存失败，此工号已存在"}):this.$refs.workerManageList.validate(function(){var a=Object(n["a"])(regeneratorRuntime.mark(function a(r){var o,i,s,n,l,d,u,c,h,m,p,g,f,b;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(r){a.next=2;break}return a.abrupt("return");case 2:t.editOuterWorkerManageList=!1,console.log("val:",e),o=t.outWorkerEditForm,i=o.userName,s=o.telephone,n=o.idCard,l=o.editId,d=o.userNo,u=t.editDateValue,c=t.editRoleName,h=t.editRoleCode,m=t.editParkName,p=t.editParkCode,g=t.orgID,f=t.editSexRadio,b=t.photoPicture,console.log("提交uploadImageUrl:",t.uploadImageUrl),""===t.uploadImageUrl&&!0===t.imageGoBackShow&&(t.uploadImageUrl=t.uploadImageUrlDiv),console.log("editPersonType:",t.outWorkerEditForm.editPersonType),"外部员工"===t.outWorkerEditForm.editPersonType?t.editPersonTypeToHoutai="02":"内部员工"===t.outWorkerEditForm.editPersonType&&(t.editPersonTypeToHoutai="01"),""===b&&(b=t.uploadphotoPicture),t.getEditWorkerManage(l,i,s,n,h,c,p,m,u,t.uploadImageUrl,g,d,t.editPersonTypeToHoutai,f,b);case 12:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}())},getEditWorkerManage:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a,r,o,i,s,n,l,u,c,h,m,p,g,f){var b,v,k,y,x,w,D,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["D"])(t,a,r,o,i,s,n,l,u,c,h,m,p,g,f);case 2:b=e.sent,b&&b.data&&200===b.data.code?(this.$message({type:"success",message:b.data.data}),v=this.formInline,k=v.enterPhoto,y=v.meetDemand,x=v.username,w=this.currentPage,D=this.pageSize,S=this.orgId,this.getSearchListFun(k,y,x,S,w,D),this.$refs.uploadPerson0.clearFiles(),this.outWorkerEditForm.userName="",this.outWorkerEditForm.telephone="",this.outWorkerEditForm.idCard="",this.outWorkerEditForm.userNo="",this.editDateValue="",this.editRoleName="",this.editRoleCode="",this.editParkName="",this.editParkCode="",this.uploadImageUrl="",this.orgID=""):this.$message({type:"error",message:b.data.data});case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r,o,i,s,n,l,d,u,c,h,m,p,g){return e.apply(this,arguments)}return t}(),handlePictureCardPreview:function(e){this.uploadImageUrl=e.url,this.dialogVisibleBendiUpload=!0},handlePictureCardRemove:function(e,t){},onBeforeRemoveImage:function(e,t){this.imgUrlUpload="",console.log("清除imgUrlUpload",this.imgUrlUpload),this.$refs.uploadPerson0.clearFiles()},blurUserNoChangeFun:function(){var e=this.formDataAdd.userno;this.addregExpUserNumberFun(e)},regExpUserNumberFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["g"])(t);case 2:a=e.sent,a&&a.data&&200!==a.data.code?(console.log("EditFormUserNo:",this.EditFormUserNo),console.log("outWorkerEditForm.userNo:",this.outWorkerEditForm.userNo),this.EditFormUserNo===this.outWorkerEditForm.userNo||this.editFormUserTelephone===this.outWorkerEditForm.telephone?this.isRepeat=!1:(this.isRepeat=!0,this.$message({type:"error",message:"此工号已存在!"}))):this.isRepeat=!1,console.log("isRepeat:",this.isRepeat);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addregExpUserNumberFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["g"])(t);case 2:a=e.sent,a&&a.data&&200!==a.data.code?(this.isRepeat=!0,this.$message({type:"error",message:"此工号已存在!"})):this.isRepeat=!1;case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),uploadTemplate:function(){var e="".concat(l["a"],"/user/SanyBasicShrUser/exportParkEmployer");e=encodeURI(encodeURI(e)),location.href=e}}},h=c,m=(a("04a8"),a("2877")),p=Object(m["a"])(h,r,o,!1,null,"50fe4174",null);p.options.__file="index.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-c8266c0e.6db17d15.js.map