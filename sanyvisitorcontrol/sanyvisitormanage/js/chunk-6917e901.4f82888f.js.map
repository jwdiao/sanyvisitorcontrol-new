{"version":3,"sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack:///./node_modules/core-js/library/modules/es6.date.now.js","webpack:///./src/api/businessManageApi.js","webpack:///./src/views/businessManage/visitHistoryRecord.vue?03c7","webpack:///src/views/businessManage/visitHistoryRecord.vue","webpack:///./src/views/businessManage/visitHistoryRecord.vue?48c7","webpack:///./src/views/businessManage/visitHistoryRecord.vue","webpack:///./src/views/businessManage/visitHistoryRecord.vue?74c9","webpack:///./node_modules/core-js/library/fn/date/now.js"],"names":["module","exports","__webpack_require__","$export","S","now","Date","getTime","getVisitorAllByVisitorNameRequest","_ref","Object","D_web_sanyvisitorcontrol_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","pageNum","pageSize","visitorName","wrap","_context","prev","next","abrupt","$http","post","concat","BASE_URL","query","stop","this","_x","_x2","_x3","apply","arguments","addApplyRequest","_ref2","_callee2","addApplyParam","_context2","_x4","fileUploadRequest","formData","postFileData","fileUploadForOutEmployersPhotoRequest","imgStr","confirmVisitRequest","_ref3","_callee3","visitorId","source","_context3","_x5","_x6","invalidVisitRequest","_ref4","_callee4","_context4","_x7","cancelRequest","_ref5","_callee5","_context5","_x8","manualEndRequest","_ref6","_callee6","_context6","_x9","getVisitorHistoryRequest","_ref7","_callee7","startTime","endTime","_context7","_x10","_x11","_x12","_x13","getVisitorDetailsRequest","_ref8","_callee8","_context8","_x14","getNamesByLikeRequest","_ref9","_callee9","queryStr","_context9","_x15","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","size","label","type","value-format","picker-options","pickerOptionsStart","placeholder","model","value","callback","$$v","expression","pickerOptionsEnd","on","click","onSearch","_v","staticStyle","width","header-row-class-name","border","data","tableData","align","header-align","prop","scopedSlots","_u","key","fn","scope","$event","lookInfo","$index","row","background","current-page","currentPage","page-sizes","page-size","layout","total","totalNum","size-change","handleSizeChange","current-change","handleCurrentChange","title","visible","visitorInfomation","close-on-click-modal","update:visible","ref","v-model","editForm","label-width","disabled","sanyBussVisitor","$set","rows","sanyBussVisitorDetailsList","checkPicture","checkPictureInformationVisible","display","justify-content","align-items","overflow","max-width","src","currentImg","alt","staticRenderFns","visitHistoryRecordvue_type_script_lang_js_","name","_this","disabledDate","time","now_default","sanyBussVisitorCarList","mounted","getVisitorHistoryData","methods","_getVisitorHistoryData","asyncToGenerator","beginTime","res","_res$data$data","list","businessManageApi","sent","console","log","code","$message","message","msg","map","item","visitorStatus","auditingType","recordType","id","planBeginTime","planEndTime","vistorNum","isCar","carNum","operaterCode","operaterName","val","getAllVisitorData","index","getVisitorDetailsData","_getVisitorDetailsData","imgUrl","businessManage_visitHistoryRecordvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_visitHistoryRecord_vue_vue_type_style_index_0_id_4ea9037b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_visitHistoryRecord_vue_vue_type_style_index_0_id_4ea9037b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-6917e901.4f82888f.js","sourcesContent":["module.exports = require(\"core-js/library/fn/date/now\");","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","import $http from './http'\r\nimport BASE_URL from './global'\r\n// =============================myVisitor.vue页面接口======================================\r\n\r\n/**\r\n * 根据访客姓名查询的接口\r\n * userNo 当前登录员工的工号\r\n * pageNum 页数\r\n * pageSize 数据条数\r\n * visitorName 访客姓名\r\n *  */\r\n\r\nexport const getVisitorAllByVisitorNameRequest = async (pageNum,pageSize,visitorName) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getVisitorAllByVisitorName`, {\r\n  'pageNum': pageNum,\r\n  'pageSize': pageSize,\r\n  'query': {\r\n    'visitorName': visitorName\r\n  }\r\n})\r\n\r\n/**\r\n * 新增申请接口\r\n * \r\n  {\r\n    sanyBussVisitor: { // 拜访主表数据\r\n      planBeginTime: '', // 拜访计划开始时间,\r\n      planEndTime: '', // 拜访计划结束时间\r\n      vistorNum: '', // 来访人数量,\r\n      isCar: '', // 是否驾车（1.是，0.否）\r\n      carNum: '', // 来访车数量,  \r\n      reason: '', // 拜访原因\r\n    },\r\n    sanyBussVisitorDetailsList: {//拜访人员信息（存在多条，以集合的方式传递）\r\n      visitorName: '', // 拜访人姓名\r\n      phone: '', //手机号码\r\n      visitorId: '', // 访客身份证号\r\n      imgUrl: '', //照片路径\r\n    }\r\n    sanyBussVisitorCarList : [ // 拜访车辆数据（存在多条，以集合的方式传递）\r\n      {\r\n        carNo: '车牌号', // 车牌号\r\n      }\r\n    ]\r\n  }\r\n*/\r\nexport const addApplyRequest = async (addApplyParam) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/addApply`, addApplyParam)\r\n\r\n\r\n/**\r\n * 上传照片接口\r\n * \r\n */\r\nexport const fileUploadRequest = (formData) =>  $http.postFileData(`${BASE_URL}/user/SanyBasicShrUser/fileUploadForVisitors`,formData);\r\n\r\n/**\r\n * 拍照上传图片\r\n * @param {*} imgStr图片字符串\r\n */\r\nexport const fileUploadForOutEmployersPhotoRequest = (imgStr) => $http.post(`${BASE_URL}/user/SanyBasicShrUser/fileUploadForOutEmployersPhoto`,{imgStr:imgStr})\r\n\r\n/**\r\n * 确认访问接口\r\n * visitorId：拜访主表id\r\n * source：确认访问操作是从哪个页面发起的：1为我的访客信息，2为预约访客查询【门岗】\r\n */\r\nexport const confirmVisitRequest = async (visitorId, source) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/confirmVisit`,{\r\n  visitorId: visitorId,\r\n  source: source\r\n})\r\n\r\n/**\r\n * 无效访问接口\r\n * visitorId：拜访主表id\r\n */\r\nexport const invalidVisitRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/invalid`,{\r\n  visitorId: visitorId\r\n})\r\n\r\n/**\r\n * 作废接口\r\n * visitorId：拜访主表id\r\n */\r\nexport const cancelRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/cancel`,{\r\n  visitorId: visitorId\r\n})\r\n\r\n/**\r\n * 手动结束接口\r\n * visitorId：拜访主表id\r\n */\r\nexport const manualEndRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/manualEnd`,{\r\n  visitorId: visitorId\r\n})\r\n\r\n\r\n// =============================visitHistoryRecord.vue页面接口======================================\r\n/**\r\n * 拜访历史记录查询的接口\r\n * \r\n * pageNum 页数\r\n * pageSize 数据条数\r\n * startTime 开始日期\r\n * endTime 结束日期\r\n *  */\r\n\r\nexport const getVisitorHistoryRequest = async (pageNum,pageSize,startTime,endTime) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getVisitorHistory`, {\r\n  pageNum: pageNum,\r\n  pageSize: pageSize,\r\n  query: {\r\n    startTime:startTime,\r\n    endTime:endTime\r\n  }\r\n})\r\n/**\r\n * 查看信息的接口\r\n * \r\n * visitorId：行id\r\n *  */\r\nexport const getVisitorDetailsRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getVisitorDetails`, {visitorId: visitorId})\r\n\r\n\r\n\r\n// =============================tempVisitInput.vue页面接口======================================\r\n/**\r\n * 模糊查询被拜访人\r\n * \r\n *  */\r\nexport const getNamesByLikeRequest = async (queryStr) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getNamesByLike`, { queryStr: queryStr})\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('el-form',{staticClass:\"marginTop20 common-form-inline\",attrs:{\"inline\":true,\"size\":\"medium\"}},[_c('el-form-item',{attrs:{\"label\":\"开始日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptionsStart,\"placeholder\":\"选择日期\"},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"结束日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptionsEnd,\"placeholder\":\"选择日期\"},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"数据查询\")])],1)],1),_c('div',{staticClass:\"common-table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"header-row-class-name\":\"table-header\",\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"align\":\"right\",\"header-align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"planBeginTime\",\"label\":\"计划拜访开始时间\",\"width\":\"180\",\"align\":\"right\",\"header-align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"planEndTime\",\"label\":\"计划拜访结束时间\",\"width\":\"180\",\"align\":\"right\",\"header-align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"vistorNum\",\"label\":\"来访人员数\",\"width\":\"130\",\"align\":\"right\",\"header-align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"isCar\",\"label\":\"是否驾车\",\"width\":\"120\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"carNum\",\"label\":\"驾车数量\",\"width\":\"120\",\"align\":\"right\",\"header-align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"visitorStatus\",\"label\":\"访问状态\",\"width\":\"120\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"operaterCode\",\"label\":\"操作人工号\",\"align\":\"right\",\"header-align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"operaterName\",\"label\":\"操作人姓名\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"查看\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.lookInfo(scope.$index, scope.row)}}},[_vm._v(\"查看信息\")])]}}])})],1)],1),_c('div',{staticClass:\"marginTop10 text-right\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":100,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalNum},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('div',{staticClass:\"common_lookInfoDialog\"},[_c('el-dialog',{staticClass:\"edit-form\",attrs:{\"title\":\"拜访历史记录\",\"visible\":_vm.visitorInfomation,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.visitorInfomation=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"v-model\":_vm.editForm,\"label-width\":\"110px\",\"inline\":true}},[_c('div',{staticClass:\"endVisitSearchDialog\"},[_c('el-form-item',{attrs:{\"label\":\"开始时间\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.sanyBussVisitor.planBeginTime),callback:function ($$v) {_vm.$set(_vm.editForm.sanyBussVisitor, \"planBeginTime\", $$v)},expression:\"editForm.sanyBussVisitor.planBeginTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"结束时间\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.sanyBussVisitor.planEndTime),callback:function ($$v) {_vm.$set(_vm.editForm.sanyBussVisitor, \"planEndTime\", $$v)},expression:\"editForm.sanyBussVisitor.planEndTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"来访人员数量\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.sanyBussVisitor.vistorNum),callback:function ($$v) {_vm.$set(_vm.editForm.sanyBussVisitor, \"vistorNum\", $$v)},expression:\"editForm.sanyBussVisitor.vistorNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否驾车\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.sanyBussVisitor.isCar),callback:function ($$v) {_vm.$set(_vm.editForm.sanyBussVisitor, \"isCar\", $$v)},expression:\"editForm.sanyBussVisitor.isCar\"}})],1),_c('el-form-item',{attrs:{\"label\":\"驾车数量\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.sanyBussVisitor.carNum),callback:function ($$v) {_vm.$set(_vm.editForm.sanyBussVisitor, \"carNum\", $$v)},expression:\"editForm.sanyBussVisitor.carNum\"}})],1),_c('br'),_c('el-form-item',{attrs:{\"label\":\"拜访原因\"}},[_c('el-input',{staticStyle:{\"width\":\"795px\"},attrs:{\"disabled\":\"\",\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.editForm.sanyBussVisitor.reason),callback:function ($$v) {_vm.$set(_vm.editForm.sanyBussVisitor, \"reason\", $$v)},expression:\"editForm.sanyBussVisitor.reason\"}})],1)],1)]),_c('div',{staticClass:\"common-table\"},[_c('el-table',{attrs:{\"header-row-class-name\":\"table-header\",\"border\":\"\",\"data\":_vm.editForm.sanyBussVisitorDetailsList}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"visitorName\",\"label\":\"拜访人姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"电话号码\"}}),_c('el-table-column',{attrs:{\"prop\":\"visitorId\",\"label\":\"身份证号\"}}),_c('el-table-column',{attrs:{\"prop\":\"carNo\",\"label\":\"车牌号码\"}}),_c('el-table-column',{attrs:{\"prop\":\"imgUrl\",\"label\":\"图片名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.checkPicture(scope.$index, scope.row)}}},[_vm._v(\"查看图片\")])]}}])})],1)],1),_c('br')],1)],1),_c('div',{staticClass:\"checkPictureInformation\"},[_c('el-dialog',{staticClass:\"edit-form\",attrs:{\"title\":\"图片信息\",\"visible\":_vm.checkPictureInformationVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.checkPictureInformationVisible=$event}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\",\"overflow\":\"hidden\"}},[_c('img',{staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.currentImg,\"alt\":\"\"}})])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"\">\r\n    <!-- <p class=\"common-breadcrumb\">访客历史记录</p> -->\r\n    <el-form\r\n      :inline=\"true\"\r\n      size=\"medium\"\r\n      class=\"marginTop20 common-form-inline\"\r\n    >\r\n      <el-form-item label=\"开始日期\">\r\n        <el-date-picker\r\n          v-model=\"startTime\"\r\n          type=\"date\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          :picker-options=\"pickerOptionsStart\"\r\n          placeholder=\"选择日期\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"结束日期\">\r\n        <el-date-picker\r\n          v-model=\"endTime\"\r\n          type=\"date\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          :picker-options=\"pickerOptionsEnd\"\r\n          placeholder=\"选择日期\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSearch\">数据查询</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"common-table\">\r\n      <el-table header-row-class-name=\"table-header\"  border  style=\"width: 100%\"\r\n        :data=\"tableData\">\r\n        <el-table-column type=\"index\" label=\"序号\" width=\"50\" align=\"right\" header-align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"planBeginTime\" label=\"计划拜访开始时间\" width=\"180\" align=\"right\" header-align=\"center\">  </el-table-column>\r\n        <el-table-column prop=\"planEndTime\" label=\"计划拜访结束时间\"  width=\"180\" align=\"right\" header-align=\"center\">  </el-table-column>\r\n       <!-- <el-table-column prop=\"beginTime\" label=\"实际开始时间\"  width=\"160\" align=\"right\" header-align=\"center\">  </el-table-column>\r\n        <el-table-column prop=\"endTime\" label=\"实际结束时间\"  width=\"160\" align=\"right\" header-align=\"center\">  </el-table-column>-->\r\n        <el-table-column prop=\"vistorNum\" label=\"来访人员数\" width=\"130\" align=\"right\" header-align=\"center\">  </el-table-column>\r\n        <el-table-column prop=\"isCar\" label=\"是否驾车\" width=\"120\" align=\"center\"> </el-table-column>\r\n        <el-table-column prop=\"carNum\" label=\"驾车数量\" width=\"120\" align=\"right\" header-align=\"center\"> </el-table-column>\r\n        <el-table-column prop=\"visitorStatus\" label=\"访问状态\" width=\"120\" align=\"center\"> </el-table-column>\r\n        <!--<el-table-column prop=\"auditingType\" label=\"审核类型\" align=\"center\"> </el-table-column>-->\r\n        <!--<el-table-column prop=\"recordType\" label=\"记录类型\" align=\"center\"> </el-table-column>-->\r\n        <el-table-column prop=\"operaterCode\" label=\"操作人工号\" align=\"right\" header-align=\"center\"> </el-table-column>\r\n        <el-table-column prop=\"operaterName\" label=\"操作人姓名\" align=\"center\"> </el-table-column>\r\n        <el-table-column label=\"查看\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"text\"\r\n                       @click=\"lookInfo(scope.$index, scope.row)\">查看信息</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"marginTop10 text-right\">\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"100\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"totalNum\">\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 查看信息弹窗 -->\r\n    <div class=\"common_lookInfoDialog\">\r\n      <el-dialog title=\"拜访历史记录\"\r\n        :visible.sync=\"visitorInfomation\"\r\n        :close-on-click-modal=\"false\"\r\n        class=\"edit-form\"\r\n        >\r\n        <el-form :v-model=\"editForm\" label-width=\"110px\" ref=\"editForm\" :inline=\"true\">\r\n          <div class=\"endVisitSearchDialog\">\r\n            <el-form-item label=\"开始时间\">\r\n              <el-input  v-model=\"editForm.sanyBussVisitor.planBeginTime\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"结束时间\">\r\n              <el-input v-model=\"editForm.sanyBussVisitor.planEndTime\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"来访人员数量\">\r\n              <el-input v-model=\"editForm.sanyBussVisitor.vistorNum\" disabled></el-input>\r\n            </el-form-item>\r\n            <!--<el-form-item label=\"实际开始时间\">\r\n              <el-input  v-model=\"editForm.sanyBussVisitor.beginTime\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"实际结束时间\">\r\n              <el-input v-model=\"editForm.sanyBussVisitor.endTime\" disabled></el-input>\r\n            </el-form-item>-->\r\n            <el-form-item label=\"是否驾车\">\r\n              <el-input v-model=\"editForm.sanyBussVisitor.isCar\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"驾车数量\">\r\n              <el-input  v-model=\"editForm.sanyBussVisitor.carNum\" disabled></el-input>\r\n            </el-form-item>\r\n            <br />\r\n            <el-form-item label=\"拜访原因\" >\r\n              <el-input disabled style=\"width:795px;\"\r\n                        type=\"textarea\" :rows=\"3\"\r\n                        v-model=\"editForm.sanyBussVisitor.reason\">\r\n              </el-input>\r\n            </el-form-item>\r\n          </div>\r\n        </el-form>\r\n        <div class=\"common-table\">\r\n          <el-table header-row-class-name=\"table-header\" border\r\n                    :data=\"editForm.sanyBussVisitorDetailsList\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n            <el-table-column prop=\"visitorName\" label=\"拜访人姓名\">  </el-table-column>\r\n            <el-table-column prop=\"phone\" label=\"电话号码\">  </el-table-column>\r\n            <el-table-column prop=\"visitorId\" label=\"身份证号\" >  </el-table-column>\r\n            <el-table-column prop=\"carNo\" label=\"车牌号码\"></el-table-column>\r\n           <!-- <el-table-column prop=\"beginTime\" label=\"进入时间\"  >  </el-table-column>\r\n            <el-table-column prop=\"endTime\" label=\"离开时间\" >  </el-table-column>-->\r\n            <el-table-column prop=\"imgUrl\" label=\"图片名称\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button size=\"mini\" type=\"text\"\r\n                            @click=\"checkPicture(scope.$index, scope.row)\">查看图片</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div><br/>\r\n       <!-- <div class=\"common-table\">\r\n          <el-table header-row-class-name=\"table-header\"  border\r\n                    :data=\"editForm.sanyBussVisitorCarList\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"100\"></el-table-column>\r\n            <el-table-column prop=\"carNo\" label=\"车牌号码\"></el-table-column>\r\n            <el-table-column prop=\"beginTime\" label=\"进入时间\"></el-table-column>\r\n            <el-table-column prop=\"endTime\" label=\"离开时间\"></el-table-column>\r\n          </el-table>\r\n        </div>-->\r\n      </el-dialog>\r\n    </div>\r\n    <!-- 查看信息弹窗end -->\r\n    <!-- 查看照片 -->\r\n    <div class=\"checkPictureInformation\">\r\n      <el-dialog title=\"图片信息\"\r\n                 :visible.sync=\"checkPictureInformationVisible\"\r\n                 :close-on-click-modal=\"false\"\r\n                 class=\"edit-form\">\r\n        <div style=\"display: flex;justify-content: center;align-items: center;overflow: hidden;\">\r\n            <img :src=\"currentImg\" alt=\"\" style=\"max-width:100%;\">\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n    <!-- 查看照片end -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    getVisitorHistoryRequest,\r\n    getVisitorDetailsRequest\r\n  } from '../../api/businessManageApi'\r\n  export default {\r\n    name: \"VisitorHistoryRecord\",\r\n    data() {\r\n      return {\r\n        startTime: '', // 开始时间\r\n        endTime: '', // 结束时间\r\n        pickerOptionsStart: {\r\n          disabledDate(time) {\r\n            return time.getTime() < Date.now()- 3600*1000*24;\r\n          }\r\n        },\r\n        pickerOptionsEnd:{\r\n          disabledDate:(time) =>{\r\n            return time.getTime() < new Date(this.startTime).getTime();/*|| time.getTime() > new Date(this.startTime).getTime() + 3600*1000*24*/\r\n          }\r\n        },\r\n        tableData: [],\r\n        currentPage: 1, // 当前页码\r\n        pageSize: 10, // 每页多少条\r\n        totalNum: 0, // 总条数\r\n        editForm: { // 查看信息的弹窗信息\r\n          sanyBussVisitor: {},\r\n          sanyBussVisitorDetailsList: [],\r\n          sanyBussVisitorCarList: [],\r\n        },\r\n        visitorInfomation: false, // 弹窗是否显示\r\n        checkPictureInformationVisible: false, // 查看照片\r\n        currentImg: ''\r\n      }\r\n    },\r\n    mounted () {\r\n      this.getVisitorHistoryData(this.currentPage,this.pageSize,this.startTime,this.endTime)\r\n    },\r\n    methods: {\r\n      async getVisitorHistoryData(pageNum, pageSize, beginTime, endTime) {\r\n        const res = await getVisitorHistoryRequest(pageNum, pageSize, beginTime, endTime);\r\n        console.log('获取的所有列表：',res)\r\n        // debugger;\r\n        if (!res || !res.data || res.data.code !== 200) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: res.data.msg\r\n          });\r\n          return;\r\n        }\r\n        const {list, total} = res.data.data\r\n        this.totalNum = total\r\n        this.tableData = list.map((item) => {\r\n          var visitorStatus = item.visitorStatus // 访问状态\r\n          if (visitorStatus === '01') {\r\n            visitorStatus = '待访问'\r\n          } else if (visitorStatus === '02') {\r\n            visitorStatus = '访问中'\r\n          } else if (visitorStatus === '03') {\r\n            visitorStatus = '访问结束'\r\n          }\r\n          var auditingType = item.auditingType // 审核通过类型\r\n          if (auditingType === '01') {\r\n            auditingType = '个人审核通过'\r\n          } else if (auditingType === '02') {\r\n            auditingType = '门岗审核通过'\r\n          }\r\n          var recordType = item.recordType // 录入类型\r\n          if (recordType === '01') {\r\n            recordType = '被访人录入'\r\n          } else if (recordType === '02') {\r\n            recordType = '访客机录入'\r\n          } else if (recordType === '03') {\r\n            recordType = '门岗录入'\r\n          }\r\n          return {\r\n            id: item.id, // id\r\n            planBeginTime: item.planBeginTime, // 计划拜访开始时间\r\n            planEndTime: item.planEndTime, // 计划拜访结束时间\r\n            beginTime: item.beginTime, // 实际拜访开始时间\r\n            endTime: item.endTime, // 实际拜访结束时间\r\n            vistorNum: item.vistorNum, // 来访人员数\r\n            isCar: item.isCar, // 是否驾车（1.是，0.否）\r\n            carNum: item.carNum, // 来访车数量\r\n            visitorStatus: visitorStatus, // 访问状态（01:待访问02：访问中03：访问结束'）\r\n            auditingType: auditingType, // 审核通过类型（01：个人审核通过02：门岗审核通过'）\r\n            recordType: recordType, // 录入类型（01：被访人录入02：访客机录入03：门岗录入'）\r\n            operaterCode: item.operaterCode, // 操作人工号\r\n            operaterName: item.operaterName, // 操作人姓名\r\n          }\r\n        })\r\n      },\r\n      handleSizeChange(val) {\r\n        // console.log(`yy: ${val}`);\r\n        this.pageSize = val\r\n        this.currentPage = 1;\r\n        this.getVisitorHistoryData(this.currentPage, this.pageSize, this.startTime, this.endTime)\r\n      },\r\n      handleCurrentChange(val) {\r\n        // console.log(`当前页: ${val}`);\r\n        this.currentPage = val\r\n        this.getAllVisitorData(this.currentPage, this.pageSize, this.startTime, this.endTime)\r\n      },\r\n      onSearch() {\r\n        this.currentPage = 1;\r\n        this.getVisitorHistoryData(this.currentPage, this.pageSize, this.startTime, this.endTime)\r\n      },\r\n      // 查看信息\r\n      lookInfo(index, row) {\r\n        // console.log(index, row);\r\n        this.visitorInfomation = true\r\n        // 查看信息接口\r\n        this.getVisitorDetailsData(row.id)\r\n      },\r\n      async getVisitorDetailsData (visitorId) {\r\n        const res = await getVisitorDetailsRequest(visitorId);\r\n        // console.log('查看信息接口：', res)\r\n        if (!res || res.data.code!==200) {\r\n          this.$message({\r\n            type: 'error',\r\n            message: res.data.msg\r\n          });\r\n          return\r\n        }\r\n        this.editForm = res.data.data\r\n        this.editForm.sanyBussVisitor.isCar = this.editForm.sanyBussVisitor.isCar==='1'? '是':'否'\r\n      },\r\n      // 查看图片\r\n      checkPicture(index, row){\r\n        this.checkPictureInformationVisible = true\r\n        this.currentImg = row.imgUrl\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  /deep/.el-dialog__footer{\r\n    border-top: 1px solid #DCDFE6;/*#DCDFE6*/\r\n  }\r\n  /deep/ .el-dialog__header{\r\n    border-bottom: 1px solid #DCDFE6;\r\n  }\r\n  /deep/.el-form-item__content{\r\n    margin-left: 0px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./visitHistoryRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./visitHistoryRecord.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./visitHistoryRecord.vue?vue&type=template&id=4ea9037b&scoped=true&\"\nimport script from \"./visitHistoryRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./visitHistoryRecord.vue?vue&type=script&lang=js&\"\nimport style0 from \"./visitHistoryRecord.vue?vue&type=style&index=0&id=4ea9037b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ea9037b\",\n  null\n  \n)\n\ncomponent.options.__file = \"visitHistoryRecord.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./visitHistoryRecord.vue?vue&type=style&index=0&id=4ea9037b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./visitHistoryRecord.vue?vue&type=style&index=0&id=4ea9037b&lang=scss&scoped=true&\"","require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n"],"sourceRoot":""}