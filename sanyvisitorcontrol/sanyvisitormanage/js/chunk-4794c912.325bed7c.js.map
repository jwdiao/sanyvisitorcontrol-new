{"version":3,"sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack:///./node_modules/core-js/library/modules/es6.date.now.js","webpack:///./src/api/businessManageApi.js","webpack:///./src/views/businessManage/tempVisitInput.vue?6f83","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/util/regExp.js","webpack:///./src/views/businessManage/tempVisitInput.vue?2782","webpack:///src/views/businessManage/tempVisitInput.vue","webpack:///./src/views/businessManage/tempVisitInput.vue?8580","webpack:///./src/views/businessManage/tempVisitInput.vue","webpack:///./node_modules/core-js/library/fn/date/now.js"],"names":["module","exports","__webpack_require__","$export","S","now","Date","getTime","getVisitorAllByVisitorNameRequest","_ref","Object","D_web_sanyvisitorcontrol_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","pageNum","pageSize","visitorName","wrap","_context","prev","next","abrupt","$http","post","concat","BASE_URL","query","stop","this","_x","_x2","_x3","apply","arguments","addApplyRequest","_ref2","_callee2","addApplyParam","_context2","_x4","fileUploadRequest","formData","postFileData","fileUploadForOutEmployersPhotoRequest","imgStr","confirmVisitRequest","_ref3","_callee3","visitorId","source","_context3","_x5","_x6","invalidVisitRequest","_ref4","_callee4","_context4","_x7","cancelRequest","_ref5","_callee5","_context5","_x8","manualEndRequest","_ref6","_callee6","_context6","_x9","getVisitorHistoryRequest","_ref7","_callee7","startTime","endTime","_context7","_x10","_x11","_x12","_x13","getVisitorDetailsRequest","_ref8","_callee8","_context8","_x14","getNamesByLikeRequest","_ref9","_callee9","queryStr","_context9","_x15","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tempVisitInput_vue_vue_type_style_index_0_id_11723a24_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tempVisitInput_vue_vue_type_style_index_0_id_11723a24_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","checkPhone","tel","h","console","log","length","test","$message","type","message","checkIDCard","IDNumber","render","_vm","_h","$createElement","_c","_self","ref","staticClass","staticStyle","position","attrs","inline","model","formInline","sanyBussVisitor","rules","size","label-width","label","nativeOn","keyup","$event","querySearch","value","callback","$$v","$set","expression","directives","name","rawName","height","restaurantsArr","_l","item","index","key","cursor","on","click","handleSelect","_v","_s","prop","format","value-format","default-value","picker-options","pickerOptionsStart","placeholder","pickerOptionsEnd","controls","min","change","handleInputPersonNum","isCar","handleInputCarNum","width","rows","_m","domProps","textContent","class","regIsNull","regIsName","blur","blurUserName","inputChangeName","top","left","color","text-align","blurPhone","phone","regTel","regIsIDCard","blurIdCard","regID","imgUrl","handlePhotoUpload","handleLookImg","title","visible","dialogVisible","close-on-click-modal","before-close","handleClose","update:visible","id","frameborder","src","slot","handleConfirmCamera","dialogVisibleImg","display","justify-content","align-items","overflow","max-width","lookCurrentImgUrl","alt","handleSave","staticRenderFns","tempVisitInputvue_type_script_lang_js_","data","_this","employerNameSelectShow","isDriveCarOptions","disabledDate","time","now_default","planBeginTime","isShowUserName","isShowPhone","isShowIDCard","required","trigger","planEndTime","vistorNum","carNum","reason","sanyBussVisitorDetailsList","carId","sanyBussVisitorCarList","currentUploadIndex","mounted","methods","getNamesByLikeData","_getNamesByLikeData","asyncToGenerator","res","restaurants","businessManageApi","sent","code","queryString","employerName","employerCode","userNo","i","push","myframe","window","Webcam","attach","_handleConfirmCamera","url","resPhoto","getTakePhotoUrl","reset","_this$formInline$sany","done","$confirm","then","_","catch","_this2","$refs","tempVisitInputID","validate","valid","addApplyRequestData","_addApplyRequestData","param","msg","val","regExp","businessManage_tempVisitInputvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-4794c912.325bed7c.js","sourcesContent":["module.exports = require(\"core-js/library/fn/date/now\");","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","import $http from './http'\r\nimport BASE_URL from './global'\r\n// =============================myVisitor.vue页面接口======================================\r\n\r\n/**\r\n * 根据访客姓名查询的接口\r\n * userNo 当前登录员工的工号\r\n * pageNum 页数\r\n * pageSize 数据条数\r\n * visitorName 访客姓名\r\n *  */\r\n\r\nexport const getVisitorAllByVisitorNameRequest = async (pageNum,pageSize,visitorName) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getVisitorAllByVisitorName`, {\r\n  'pageNum': pageNum,\r\n  'pageSize': pageSize,\r\n  'query': {\r\n    'visitorName': visitorName\r\n  }\r\n})\r\n\r\n/**\r\n * 新增申请接口\r\n * \r\n  {\r\n    sanyBussVisitor: { // 拜访主表数据\r\n      planBeginTime: '', // 拜访计划开始时间,\r\n      planEndTime: '', // 拜访计划结束时间\r\n      vistorNum: '', // 来访人数量,\r\n      isCar: '', // 是否驾车（1.是，0.否）\r\n      carNum: '', // 来访车数量,  \r\n      reason: '', // 拜访原因\r\n    },\r\n    sanyBussVisitorDetailsList: {//拜访人员信息（存在多条，以集合的方式传递）\r\n      visitorName: '', // 拜访人姓名\r\n      phone: '', //手机号码\r\n      visitorId: '', // 访客身份证号\r\n      imgUrl: '', //照片路径\r\n    }\r\n    sanyBussVisitorCarList : [ // 拜访车辆数据（存在多条，以集合的方式传递）\r\n      {\r\n        carNo: '车牌号', // 车牌号\r\n      }\r\n    ]\r\n  }\r\n*/\r\nexport const addApplyRequest = async (addApplyParam) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/addApply`, addApplyParam)\r\n\r\n\r\n/**\r\n * 上传照片接口\r\n * \r\n */\r\nexport const fileUploadRequest = (formData) =>  $http.postFileData(`${BASE_URL}/user/SanyBasicShrUser/fileUploadForVisitors`,formData);\r\n\r\n/**\r\n * 拍照上传图片\r\n * @param {*} imgStr图片字符串\r\n */\r\nexport const fileUploadForOutEmployersPhotoRequest = (imgStr) => $http.post(`${BASE_URL}/user/SanyBasicShrUser/fileUploadForOutEmployersPhoto`,{imgStr:imgStr})\r\n\r\n/**\r\n * 确认访问接口\r\n * visitorId：拜访主表id\r\n * source：确认访问操作是从哪个页面发起的：1为我的访客信息，2为预约访客查询【门岗】\r\n */\r\nexport const confirmVisitRequest = async (visitorId, source) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/confirmVisit`,{\r\n  visitorId: visitorId,\r\n  source: source\r\n})\r\n\r\n/**\r\n * 无效访问接口\r\n * visitorId：拜访主表id\r\n */\r\nexport const invalidVisitRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/invalid`,{\r\n  visitorId: visitorId\r\n})\r\n\r\n/**\r\n * 作废接口\r\n * visitorId：拜访主表id\r\n */\r\nexport const cancelRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/cancel`,{\r\n  visitorId: visitorId\r\n})\r\n\r\n/**\r\n * 手动结束接口\r\n * visitorId：拜访主表id\r\n */\r\nexport const manualEndRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/manualEnd`,{\r\n  visitorId: visitorId\r\n})\r\n\r\n\r\n// =============================visitHistoryRecord.vue页面接口======================================\r\n/**\r\n * 拜访历史记录查询的接口\r\n * \r\n * pageNum 页数\r\n * pageSize 数据条数\r\n * startTime 开始日期\r\n * endTime 结束日期\r\n *  */\r\n\r\nexport const getVisitorHistoryRequest = async (pageNum,pageSize,startTime,endTime) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getVisitorHistory`, {\r\n  pageNum: pageNum,\r\n  pageSize: pageSize,\r\n  query: {\r\n    startTime:startTime,\r\n    endTime:endTime\r\n  }\r\n})\r\n/**\r\n * 查看信息的接口\r\n * \r\n * visitorId：行id\r\n *  */\r\nexport const getVisitorDetailsRequest = async (visitorId) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getVisitorDetails`, {visitorId: visitorId})\r\n\r\n\r\n\r\n// =============================tempVisitInput.vue页面接口======================================\r\n/**\r\n * 模糊查询被拜访人\r\n * \r\n *  */\r\nexport const getNamesByLikeRequest = async (queryStr) => $http.post(`${BASE_URL}/visitorcontrol/SanyBussVisitor/getNamesByLike`, { queryStr: queryStr})\r\n\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tempVisitInput.vue?vue&type=style&index=0&id=11723a24&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tempVisitInput.vue?vue&type=style&index=0&id=11723a24&lang=scss&scoped=true&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","//参数h：应该传入Vue组件this\r\n// 验证手机号\r\nexport const checkPhone = (tel,h) => {\r\n  console.log('tel:',tel)\r\n  if(tel.length === 11){\r\n    if(!(/^1[3456789]\\d{9}$/.test(tel))){\r\n      // console.log('this:',h)\r\n      h.$message({\r\n        type:'error',\r\n        message:'手机号码格式错误，请重新输入'\r\n      })\r\n    }\r\n  }else {\r\n    h.$message({\r\n      type:'error',\r\n      message:'请输入11位手机号码'\r\n    })\r\n  }\r\n}\r\n// 验证身份证号\r\nexport function checkIDCard (IDNumber,h) {\r\n  if(IDNumber.length === 15){\r\n    if(!/(^\\d{15}$)/.test(IDNumber)){\r\n      h.$message({\r\n        type:'error',\r\n        message:'身份证号码格式错误，请重新输入'\r\n      })\r\n    }\r\n  }else if(IDNumber.length === 18){\r\n    if(!/(^\\d{17}([0-9]|x|X)$)/.test(IDNumber)){\r\n      h.$message({\r\n        type:'error',\r\n        message:'身份证号码格式错误，请重新输入'\r\n      })\r\n    }\r\n  }else{\r\n    h.$message({\r\n      type:'error',\r\n      message:'请输入15位或18位身份证号码'\r\n    })\r\n  }\r\n}\r\n// 验证车牌号\r\nexport function checkCarCard (CarCardNum,h) {\r\n  var PTNumExpress = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/;\r\n  var XNYumExpress = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-Z0-9][0-9]{4}$))/;\r\n  if(CarCardNum.length === 7){\r\n    if(!(PTNumExpress.test(CarCardNum))){\r\n      h.$message({\r\n        type:'error',\r\n        message:'车牌号码格式错误，请重新输入'\r\n      })\r\n    }\r\n  }else if(CarCardNum.length === 8){\r\n    if(!(XNYumExpress.test(CarCardNum))){\r\n      h.$message({\r\n        type:'error',\r\n        message:'车牌号码格式错误，请重新输入'\r\n      })\r\n    }\r\n  }else{\r\n    h.$message({\r\n      type:'error',\r\n      message:'请输入7位或8位车牌号码'\r\n    })\r\n  }\r\n}\r\n\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('el-form',{ref:\"tempVisitInputID\",staticClass:\"marginTop20 common-form-inline tempVisitInput_form\",staticStyle:{\"position\":\"relative\"},attrs:{\"inline\":true,\"model\":_vm.formInline.sanyBussVisitor,\"rules\":_vm.rules,\"size\":\"medium\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"被拜访人\"}},[_c('el-input',{nativeOn:{\"keyup\":function($event){return _vm.querySearch($event)}},model:{value:(_vm.formInline.sanyBussVisitor.employerName),callback:function ($$v) {_vm.$set(_vm.formInline.sanyBussVisitor, \"employerName\", $$v)},expression:\"formInline.sanyBussVisitor.employerName\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.employerNameSelectShow),expression:\"employerNameSelectShow\"}],staticClass:\"tempVisitInput_employerName\"},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.restaurantsArr.length>0),expression:\"restaurantsArr.length>0\"}]},_vm._l((_vm.restaurantsArr),function(item,index){return _c('li',{key:index,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.handleSelect(item)}}},[_vm._v(\"\\n               \"+_vm._s(item.name)+\"\\n             \")])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.restaurantsArr.length<=0),expression:\"restaurantsArr.length<=0\"}]},[_vm._v(\"暂无数据\")])])],1)],1),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"prop\":\"planBeginTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"default-value\":new Date(),\"picker-options\":_vm.pickerOptionsStart,\"placeholder\":\"选择日期时间\"},model:{value:(_vm.formInline.sanyBussVisitor.planBeginTime),callback:function ($$v) {_vm.$set(_vm.formInline.sanyBussVisitor, \"planBeginTime\", $$v)},expression:\"formInline.sanyBussVisitor.planBeginTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"prop\":\"planEndTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"default-value\":new Date(),\"picker-options\":_vm.pickerOptionsEnd,\"placeholder\":\"选择日期时间\"},model:{value:(_vm.formInline.sanyBussVisitor.planEndTime),callback:function ($$v) {_vm.$set(_vm.formInline.sanyBussVisitor, \"planEndTime\", $$v)},expression:\"formInline.sanyBussVisitor.planEndTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"来访人数量\"}},[_c('el-input-number',{attrs:{\"controls\":true,\"min\":1},on:{\"change\":_vm.handleInputPersonNum},model:{value:(_vm.formInline.sanyBussVisitor.vistorNum),callback:function ($$v) {_vm.$set(_vm.formInline.sanyBussVisitor, \"vistorNum\", $$v)},expression:\"formInline.sanyBussVisitor.vistorNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否驾车\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formInline.sanyBussVisitor.isCar),callback:function ($$v) {_vm.$set(_vm.formInline.sanyBussVisitor, \"isCar\", $$v)},expression:\"formInline.sanyBussVisitor.isCar\"}},_vm._l((_vm.isDriveCarOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formInline.sanyBussVisitor.isCar==='1'),expression:\"formInline.sanyBussVisitor.isCar==='1'\"}],attrs:{\"label\":\"驾车数量\"}},[_c('el-input-number',{attrs:{\"controls\":true,\"min\":1},on:{\"change\":_vm.handleInputCarNum},model:{value:(_vm.formInline.sanyBussVisitor.carNum),callback:function ($$v) {_vm.$set(_vm.formInline.sanyBussVisitor, \"carNum\", $$v)},expression:\"formInline.sanyBussVisitor.carNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"拜访原因\"}},[_c('el-input',{staticStyle:{\"width\":\"1285px\"},attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入原因\"},model:{value:(_vm.formInline.sanyBussVisitor.reason),callback:function ($$v) {_vm.$set(_vm.formInline.sanyBussVisitor, \"reason\", $$v)},expression:\"formInline.sanyBussVisitor.reason\"}})],1)],1),_c('div',{staticClass:\"tempVisitInput_table tempVisitInput_personTable\"},[_c('table',[_vm._m(0),_c('tbody',_vm._l((_vm.formInline.sanyBussVisitorDetailsList),function(item,index){return _c('tr',{key:index},[_c('td',{domProps:{\"textContent\":_vm._s(index+1)}},[_vm._v(\"1\")]),_c('td',{staticStyle:{\"position\":\"relative\"}},[_c('el-input',{class:{regIsNull:_vm.regIsName},attrs:{\"placeholder\":\"请输入姓名\"},on:{\"blur\":function($event){_vm.blurUserName(item.visitorName)},\"change\":function($event){_vm.inputChangeName(item.visitorName)}},model:{value:(item.visitorName),callback:function ($$v) {_vm.$set(item, \"visitorName\", $$v)},expression:\"item.visitorName\"}}),_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"22px\",\"left\":\"0px\",\"color\":\"#f56c6c\"}},[_vm._v(\"*\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowUserName),expression:\"isShowUserName\"}],staticStyle:{\"color\":\"#F56C6C\",\"text-align\":\"left\",\"position\":\"absolute\",\"top\":\"50px\",\"left\":\"8px\"}},[_vm._v(\"请输入姓名\")])],1),_c('td',{staticStyle:{\"position\":\"relative\"}},[_c('el-input',{class:{regIsNull:_vm.regIsNull},attrs:{\"placeholder\":\"请输入电话\"},on:{\"blur\":function($event){_vm.blurPhone(item.phone)},\"change\":function($event){_vm.regTel(item.phone)}},model:{value:(item.phone),callback:function ($$v) {_vm.$set(item, \"phone\", $$v)},expression:\"item.phone\"}}),_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"22px\",\"left\":\"0px\",\"color\":\"#f56c6c\"}},[_vm._v(\"*\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowPhone),expression:\"isShowPhone\"}],staticStyle:{\"color\":\"#F56C6C\",\"text-align\":\"left\",\"position\":\"absolute\",\"top\":\"50px\",\"left\":\"8px\"}},[_vm._v(\"请输入电话\")])],1),_c('td',{staticStyle:{\"position\":\"relative\"}},[_c('el-input',{class:{regIsNull:_vm.regIsIDCard},attrs:{\"placeholder\":\"请输入身份证号\"},on:{\"blur\":function($event){_vm.blurIdCard(item.visitorId)},\"change\":function($event){_vm.regID(item.visitorId)}},model:{value:(item.visitorId),callback:function ($$v) {_vm.$set(item, \"visitorId\", $$v)},expression:\"item.visitorId\"}}),_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"22px\",\"left\":\"0px\",\"color\":\"#f56c6c\"}},[_vm._v(\"*\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowIDCard),expression:\"isShowIDCard\"}],staticStyle:{\"color\":\"#F56C6C\",\"text-align\":\"left\",\"position\":\"absolute\",\"top\":\"50px\",\"left\":\"8px\"}},[_vm._v(\"请输入身份证号\")])],1),_c('td',[_c('el-input',{attrs:{\"placeholder\":\"请输入车牌号\"},model:{value:(item.carId),callback:function ($$v) {_vm.$set(item, \"carId\", $$v)},expression:\"item.carId\"}})],1),_c('td',[_c('div',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!item.imgUrl),expression:\"!item.imgUrl\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.handlePhotoUpload(index)}}},[_vm._v(\"开始拍照\")])],1),_c('div',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.imgUrl),expression:\"item.imgUrl\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.handlePhotoUpload(index)}}},[_vm._v(\"重新拍照\")])],1)]),_c('td',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.imgUrl),expression:\"item.imgUrl\"}],attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.handleLookImg(index)}}},[_vm._v(\"查看图片\")])],1)])}),0)])]),_c('div',{staticClass:\"tempVisitInput_camera\"},[_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"1100px\",\"close-on-click-modal\":false,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',[_c('input',{attrs:{\"type\":\"hidden\",\"value\":\"\",\"id\":\"photoUrl\"}}),_c('iframe',{attrs:{\"width\":\"100%\",\"height\":\"400\",\"frameborder\":\"0\",\"src\":\"http://10.19.8.22:8081/sanyvisitorcontrol/photo/photo.html\",\"id\":\"myframe\",\"name\":\"myframe\"}})]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirmCamera}},[_vm._v(\"确 定\")])],1)])],1),_c('el-dialog',{staticClass:\"edit-form\",attrs:{\"title\":\"图片信息\",\"visible\":_vm.dialogVisibleImg,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisibleImg=$event}}},[_c('div',{staticClass:\"inputText\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\",\"overflow\":\"hidden\"}},[_c('img',{staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.lookCurrentImgUrl,\"alt\":\"\"}})])]),_c('div',{staticClass:\"marginTop20\",staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"序号\")]),_c('th',[_vm._v(\"拜访人姓名\")]),_c('th',[_vm._v(\"电话号码\")]),_c('th',[_vm._v(\"身份证号\")]),_c('th',[_vm._v(\"车牌号\")]),_c('th',[_vm._v(\"拍照\")]),_c('th',[_vm._v(\"查看图片\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n   <div class=\"\">\r\n   <!-- <p class=\"common-breadcrumb\">临时拜访录入</p> -->\r\n    <el-form\r\n      :inline=\"true\"\r\n      :model=\"formInline.sanyBussVisitor\"\r\n      :rules=\"rules\"\r\n      ref=\"tempVisitInputID\"\r\n      size=\"medium\"\r\n      label-width=\"100px\"\r\n      style=\"position:relative\"\r\n      class=\"marginTop20 common-form-inline tempVisitInput_form\"\r\n      >\r\n        <el-form-item label=\"被拜访人\">\r\n          <el-input\r\n            @keyup.native=\"querySearch\"\r\n            v-model=\"formInline.sanyBussVisitor.employerName\">\r\n          </el-input>\r\n          <div class=\"tempVisitInput_employerName\" v-show=\"employerNameSelectShow\">\r\n            <el-scrollbar style=\"height:100%\">\r\n              <ul v-show=\"restaurantsArr.length>0\">\r\n                <li style=\"cursor: pointer;\" v-for=\"(item,index) in restaurantsArr\" :key=\"index\" @click=\"handleSelect(item)\">\r\n                  {{item.name}}\r\n                </li>\r\n              </ul>\r\n              <div v-show=\"restaurantsArr.length<=0\">暂无数据</div>\r\n            </el-scrollbar>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间\" prop=\"planBeginTime\">\r\n          <el-date-picker\r\n            v-model=\"formInline.sanyBussVisitor.planBeginTime\"\r\n            type=\"datetime\"\r\n            format=\"yyyy-MM-dd HH:mm:ss\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            :default-value=\"new Date()\"\r\n            :picker-options=\"pickerOptionsStart\"\r\n            placeholder=\"选择日期时间\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\" prop=\"planEndTime\">\r\n          <el-date-picker\r\n            v-model=\"formInline.sanyBussVisitor.planEndTime\"\r\n            type=\"datetime\"\r\n            format=\"yyyy-MM-dd HH:mm:ss\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            :default-value=\"new Date()\"\r\n            :picker-options=\"pickerOptionsEnd\"\r\n            placeholder=\"选择日期时间\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"来访人数量\">\r\n          <el-input-number :controls=\"true\" v-model=\"formInline.sanyBussVisitor.vistorNum\" @change=\"handleInputPersonNum\" :min=\"1\"></el-input-number>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否驾车\">\r\n          <el-select v-model=\"formInline.sanyBussVisitor.isCar\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in isDriveCarOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"驾车数量\" v-show=\"formInline.sanyBussVisitor.isCar==='1'\">\r\n          <el-input-number :controls=\"true\" v-model=\"formInline.sanyBussVisitor.carNum\" @change=\"handleInputCarNum\" :min=\"1\"></el-input-number>\r\n        </el-form-item>\r\n        <el-form-item label=\"拜访原因\">\r\n          <el-input\r\n            style=\"width:1285px;\"\r\n            type=\"textarea\"\r\n            :rows=\"4\"\r\n            placeholder=\"请输入原因\"\r\n            v-model=\"formInline.sanyBussVisitor.reason\">\r\n          </el-input>\r\n        </el-form-item>\r\n    </el-form>\r\n    <!-- 来访人表格 start -->\r\n    <!-- v-if=\"formInline.sanyBussVisitorDetailsList.length>0\" -->\r\n    <div\r\n      class=\"tempVisitInput_table tempVisitInput_personTable\"\r\n    >\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>序号</th>\r\n            <th>拜访人姓名</th>\r\n            <th>电话号码</th>\r\n            <th>身份证号</th>\r\n            <th>车牌号</th>\r\n            <th>拍照</th>\r\n            <th>查看图片</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, index) in formInline.sanyBussVisitorDetailsList\" :key=\"index\">\r\n            <td v-text=\"index+1\">1</td>\r\n            <td style=\"position: relative\">\r\n              <el-input v-model=\"item.visitorName\" :class=\"{regIsNull:regIsName}\" placeholder=\"请输入姓名\" @blur=\"blurUserName(item.visitorName)\"  @change=\"inputChangeName(item.visitorName)\"></el-input>\r\n              <span style=\"position:absolute;top: 22px;left: 0px;color: #f56c6c;\">*</span>\r\n              <div v-show=\"isShowUserName\" style=\"color: #F56C6C;text-align: left;position: absolute;top: 50px;left: 8px;\" >请输入姓名</div>\r\n            </td>\r\n            <td style=\"position: relative\">\r\n              <el-input v-model=\"item.phone\" :class=\"{regIsNull:regIsNull}\" placeholder=\"请输入电话\" @blur=\"blurPhone(item.phone)\"  @change=\"regTel(item.phone)\"></el-input>\r\n              <span style=\"position:absolute;top: 22px;left: 0px;color: #f56c6c;\">*</span>\r\n              <div v-show=\"isShowPhone\" style=\"color: #F56C6C;text-align: left;position: absolute;top: 50px;left: 8px;\" >请输入电话</div>\r\n            </td>\r\n            <td style=\"position: relative\">\r\n              <el-input v-model=\"item.visitorId\" :class=\"{regIsNull:regIsIDCard}\" placeholder=\"请输入身份证号\" @blur=\"blurIdCard(item.visitorId)\" @change=\"regID(item.visitorId)\"></el-input>\r\n              <span style=\"position:absolute;top: 22px;left: 0px;color: #f56c6c;\">*</span>\r\n              <div v-show=\"isShowIDCard\" style=\"color: #F56C6C;text-align: left;position: absolute;top: 50px;left: 8px;\" >请输入身份证号</div>\r\n            </td>\r\n            <td>\r\n              <el-input v-model=\"item.carId\" placeholder=\"请输入车牌号\"></el-input>\r\n            </td>\r\n            <td>\r\n              <div>\r\n                <el-button\r\n                  v-show=\"!item.imgUrl\"\r\n                  size=\"mini\" type=\"primary\"\r\n                  @click=\"handlePhotoUpload(index)\">开始拍照</el-button>\r\n                </div>\r\n                <div>\r\n                  <el-button\r\n                  v-show=\"item.imgUrl\"\r\n                  size=\"mini\" type=\"primary\"\r\n                  @click=\"handlePhotoUpload(index)\">重新拍照</el-button>\r\n                </div>\r\n            </td>\r\n            <td>\r\n              <el-button\r\n                v-show=\"item.imgUrl\"\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                @click=\"handleLookImg(index)\">查看图片</el-button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!-- 来访人表格 end -->\r\n    <!-- 拍照上传 start -->\r\n    <div class=\"tempVisitInput_camera\">\r\n      <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"1100px\"\r\n        :close-on-click-modal=\"false\"\r\n        :before-close=\"handleClose\">\r\n        <div>\r\n          <input type=\"hidden\" value=\"\" id=\"photoUrl\" />\r\n          <iframe width=\"100%\" height=\"400\" frameborder=\"0\" src=\"http://10.19.8.22:8081/sanyvisitorcontrol/photo/photo.html\" id=\"myframe\" name=\"myframe\" />\r\n           <!--<iframe width=\"100%\" height=\"400\" frameborder=\"0\" src=\"http://localhost/sanyvisitorcontrol/photo/photo.html\" id=\"myframe\" name=\"myframe\" />-->\r\n        </div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"handleConfirmCamera\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n    <!-- 拍照上传 end -->\r\n\r\n    <!-- 车辆 start -->\r\n   <!-- <div class=\"tempVisitInput_table tempVisitInput_carTable\" v-if=\"formInline.sanyBussVisitorCarList.length>0\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>序号</th>\r\n            <th>车牌号码</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, index) in formInline.sanyBussVisitorCarList\" :key=\"index\">\r\n            <td v-text=\"index+1\"></td>\r\n            <td>\r\n              <el-input v-model=\"item.carNo\" placeholder=\"请输入车牌号\"></el-input>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>-->\r\n    <!-- 车辆 end -->\r\n\r\n    <!-- 查看照片 -->\r\n    <el-dialog title=\"图片信息\"\r\n                :visible.sync=\"dialogVisibleImg\"\r\n                :close-on-click-modal=\"false\"\r\n                class=\"edit-form\">\r\n        <div class=\"inputText\" style=\"display: flex;justify-content: center;align-items: center;overflow: hidden;\">\r\n            <img :src=\"lookCurrentImgUrl\" alt=\"\" style=\"max-width:100%;\">\r\n        </div>\r\n    </el-dialog>\r\n    <!-- 查看照片end -->\r\n    <div class=\"marginTop20\" style=\"text-align: center\">\r\n      <el-button type=\"primary\" @click=\"handleSave\" style=\"width: 120px;\">保存</el-button>\r\n    </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\n import {\r\n  addApplyRequest,\r\n  getNamesByLikeRequest,\r\n  fileUploadForOutEmployersPhotoRequest\r\n} from '../../api/businessManageApi'\r\n import {checkPhone,checkIDCard} from '../../util/regExp'\r\n// import http from '../../../../sanyreport/src/api/http';\r\n  export default {\r\n    name: \"tempVisitInput\",\r\n    data() {\r\n      return {\r\n        restaurantsArr: [], // 被拜访人下拉数组\r\n        employerNameSelectShow: false, // 北方人下拉数组是否显示\r\n        isDriveCarOptions: [{ // 是否驾车下拉\r\n          label: '是',\r\n          value: '1',\r\n        }, {\r\n          label: '否',\r\n          value: '0',\r\n        }],\r\n        pickerOptionsStart: { // 拜访开始时间\r\n          disabledDate(time) {\r\n            return time.getTime() < Date.now()- 3600*1000*24;\r\n          }\r\n        },\r\n        pickerOptionsEnd:{ // 拜访结束时间\r\n          disabledDate:(time) =>{\r\n            return time.getTime() < Date.now()- 3600*1000*24 || time.getTime() < new Date(this.formInline.sanyBussVisitor.planBeginTime).getTime()  - 3600*1000*24;\r\n          }\r\n        },\r\n        regIsNull:false,//动态添加Class\r\n        regIsIDCard:false,//动态添加Class\r\n        regIsName:false,//动态添加Class\r\n        isShowUserName:false,////是否显示提示姓名\r\n        isShowPhone:false,////是否显示提示手机号\r\n        isShowIDCard:false,////是否显示提示身份证\r\n        rules: {\r\n          planBeginTime: [\r\n            { required: true, message: '请选择开始时间', trigger: 'blur' },\r\n          ],\r\n          planEndTime: [\r\n            { required: true, message: '请选择结束时间', trigger: 'blur' }\r\n          ]\r\n\r\n        },\r\n        formInline: {\r\n          sanyBussVisitor: {\r\n            planBeginTime: '', // 拜访开始时间\r\n            planEndTime: '', // 拜访结束时间\r\n            vistorNum: '', // 来访人数量\r\n            isCar: '0', // 是否驾车\r\n            carNum: '', // 驾车数量\r\n            reason: '', // 拜访原因\r\n          },\r\n          sanyBussVisitorDetailsList: [\r\n            {\r\n              visitorName: '', // 访客姓名\r\n              phone: '', // 手机号码\r\n              visitorId: '', // 访客身份证号\r\n              imgUrl: '' ,// 照片路径\r\n              carId: '' // 车牌号\r\n            }\r\n          ], // 来访人对象\r\n          sanyBussVisitorCarList: [], // 车辆信息\r\n        },\r\n        dialogVisible: false, // 拍照上传弹窗\r\n        dialogVisibleImg: false, // 查看照片\r\n        currentUploadIndex: 0,\r\n        lookCurrentImgUrl: 0\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n      // 获取被拜访人列表 start\r\n      async getNamesByLikeData ( queryStr) {\r\n        if (!queryStr) return;\r\n        const res = await getNamesByLikeRequest(queryStr)\r\n        if (res && res.data.code === 200) {\r\n          var restaurants = res.data.data\r\n          // debugger;\r\n          this.restaurantsArr = restaurants\r\n          // this.restaurantsArr = queryStr ? restaurants.filter(this.createFilter(queryStr)) : restaurants;\r\n          this.employerNameSelectShow = true\r\n        }\r\n        // console.log('获取的被拜访人信息：', res)\r\n      },\r\n      querySearch(queryString) {\r\n        // debugger;\r\n        const employerName = this.formInline.sanyBussVisitor.employerName\r\n        this.getNamesByLikeData( employerName )\r\n      },\r\n      /* createFilter(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      }, */\r\n      handleSelect(item) {\r\n        // console.log(item);\r\n        this.formInline.sanyBussVisitor.employerName = item.name\r\n        this.formInline.sanyBussVisitor.employerCode = item.userNo\r\n        this.employerNameSelectShow = false;\r\n      },\r\n      // 获取被拜访人列表 end\r\n      // 输入来访人数,动态增加来访人员表格\r\n      handleInputPersonNum() {\r\n        let vistorNum = this.formInline.sanyBussVisitor.vistorNum\r\n        this.formInline.sanyBussVisitorDetailsList = []\r\n        for (var i = 0; i< vistorNum; i++) {\r\n          this.formInline.sanyBussVisitorDetailsList.push(\r\n            {\r\n              visitorName: '', // 访客姓名\r\n              phone: '', // 手机号码\r\n              visitorId: '', // 访客身份证号\r\n              imgUrl: '' ,// 照片路径\r\n              carId: '' // 车牌号\r\n            }\r\n          )\r\n        }\r\n      },\r\n      // 点击拍照按钮，打开拍照弹窗\r\n      handlePhotoUpload(index) {\r\n        this.dialogVisible = true;\r\n        this.currentUploadIndex = index\r\n        myframe.window.Webcam.attach('#my_camera');\r\n      },\r\n      // 点击拍照上传弹窗确定按钮\r\n      async handleConfirmCamera () {\r\n        this.dialogVisible = false;\r\n        const url = myframe.window.getTakePhotoUrl()\r\n        // console.log('获取的拍照图片路径是：',url)\r\n        if (url) {\r\n          const resPhoto = await fileUploadForOutEmployersPhotoRequest(url)\r\n          if (resPhoto && resPhoto.data.code===200) {\r\n            this.formInline.sanyBussVisitorDetailsList[this.currentUploadIndex].imgUrl = resPhoto.data.data\r\n          } else {\r\n            this.$message({\r\n              type: 'error',\r\n              message: '图片上传服务器失败！'\r\n            });\r\n          }\r\n        }\r\n        // this.formInline.sanyBussVisitorDetailsList[this.currentUploadIndex].imgUrl = url\r\n        myframe.window.Webcam.reset()\r\n      },\r\n      // 查看图片\r\n      handleLookImg(index) {\r\n        this.dialogVisibleImg = true;\r\n        this.currentUploadIndex = index;\r\n        this.lookCurrentImgUrl = this.formInline.sanyBussVisitorDetailsList[this.currentUploadIndex].imgUrl\r\n      },\r\n      // 输入车辆数,小于人员数\r\n      handleInputCarNum() {\r\n        let {carNum,vistorNum} = this.formInline.sanyBussVisitor\r\n        if(carNum > vistorNum){\r\n          this.formInline.sanyBussVisitor.carNum = this.formInline.sanyBussVisitor.vistorNum-1\r\n          this.$message({\r\n            type:'error',\r\n            message:'输入车辆必须小于人员数量'\r\n          })\r\n          return\r\n        }\r\n        // 输入车辆数,动态增加车辆表格\r\n       /* let carNum = this.formInline.sanyBussVisitor.carNum\r\n        this.formInline.sanyBussVisitorCarList = []\r\n        if (carNum <= 0) {\r\n          return;\r\n        }\r\n        for (var i = 0; i< carNum; i++) {\r\n          this.formInline.sanyBussVisitorCarList.push(\r\n            {\r\n              carNo: '', // 车牌号\r\n            }\r\n          )\r\n        }*/\r\n      },\r\n      handleClose(done) {\r\n        this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            done();\r\n            Webcam.reset();\r\n          })\r\n          .catch(_ => {});\r\n      },\r\n      // 保存\r\n      handleSave() {\r\n        this.$refs.tempVisitInputID.validate(async (valid) => {\r\n            if (!valid) return;\r\n          const {sanyBussVisitorDetailsList} = this.formInline\r\n          for (var i = 0; i <  sanyBussVisitorDetailsList.length; i++) {\r\n            if(sanyBussVisitorDetailsList[i].visitorName === ''){\r\n              this.regIsName= true\r\n              this.isShowUserName= true\r\n            }else if(sanyBussVisitorDetailsList[i].phone === ''){\r\n              this.regIsNull= true\r\n              this.isShowPhone= true\r\n            }else if(sanyBussVisitorDetailsList[i].visitorId === ''){\r\n              this.regIsIDCard= true\r\n              this.isShowIDCard= true\r\n            }\r\n            if(sanyBussVisitorDetailsList[i].visitorName === '' ||sanyBussVisitorDetailsList[i].visitorId === ''||sanyBussVisitorDetailsList[i].phone === ''){\r\n              return\r\n            }\r\n          }\r\n          // source = 2表示从临时拜访录入[门岗]页面过来的添加信息\r\n          this.formInline.source = 2\r\n          this.addApplyRequestData(this.formInline)\r\n        })\r\n\r\n      },\r\n      // 新增请求数据接口\r\n      async addApplyRequestData(param) {\r\n        const res = await addApplyRequest(param);\r\n        // console.log('请求添加接口：',res)\r\n        if (!res || res.data.code!==200) {\r\n          this.$message({\r\n            type: 'error',\r\n            message: res.data.msg\r\n          });\r\n          return;\r\n        }\r\n        this.$message({\r\n          type: 'success',\r\n          message: res.data.data\r\n        });\r\n        // 上传完之后清空\r\n        this.formInline.sanyBussVisitor = {\r\n          planBeginTime: '', // 拜访开始时间\r\n          planEndTime: '', // 拜访结束时间\r\n          vistorNum: '', // 来访人数量\r\n          isCar: '', // 是否驾车\r\n          carNum: '', // 驾车数量\r\n          reason: '', // 拜访原因\r\n        }\r\n        this.formInline.sanyBussVisitorDetailsList = [] // 来访人员数组\r\n        this.formInline.sanyBussVisitorCarList = [] // 来访车辆数组\r\n      },\r\n      //前台验证-------start---------\r\n      regTel(val){\r\n        checkPhone(val,this)\r\n        console.log('tel:',val)\r\n        val===''? this.regIsNull= true: this.regIsNull= false\r\n      },\r\n      regID(val){\r\n        checkIDCard(val,this)\r\n        val===''? this.regIsIDCard= true: this.regIsIDCard= false\r\n      },\r\n      inputChangeName(visitorName){\r\n        visitorName===''? this.regIsName= true: this.regIsName= false\r\n      },\r\n      blurUserName(val){\r\n        val===''? this.regIsName= true: this.regIsName= false\r\n        val===''? this.isShowUserName= true: this.isShowUserName= false\r\n      },\r\n      blurPhone(val){\r\n        val===''? this.regIsNull= true: this.regIsNull= false\r\n        val===''? this.isShowPhone= true: this.isShowPhone= false\r\n      },\r\n      blurIdCard(val){\r\n        val===''? this.regIsIDCard= true: this.regIsIDCard= false\r\n        val===''? this.isShowIDCard= true: this.isShowIDCard= false\r\n      },\r\n      //前台验证-------end----------------\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tempVisitInput{\r\n  &_form{\r\n    width:100%;\r\n    .el-input-number{\r\n      width: 100%;\r\n    }\r\n    /deep/ .el-select{\r\n      display:block;width:216px;\r\n    }\r\n    /deep/ .el-input{\r\n      width: 216px;\r\n    }\r\n    /deep/ .el-scrollbar__wrap{\r\n      overflow-x: hidden;\r\n    }\r\n    .tempVisitInput_employerName{\r\n      height:200px;position:absolute;top:40px;z-index:20;border:1px solid #c0c4cc;width:216px;color:#606266;padding:0 10px;\r\n      background-color:#fff;\r\n    }\r\n  }\r\n  &_table{\r\n    table{\r\n      width: 100%;\r\n      font-size: 14px;\r\n      text-align: left;\r\n      th{\r\n        background-color: #dee3e9;\r\n        color: #33475d;font-weight: bold;\r\n      }\r\n      tbody{\r\n        background-color: #fff;\r\n      }\r\n      tr{\r\n        border-bottom: 1px solid #ebeef5;\r\n      }\r\n      td,th{\r\n        padding: 12px 10px;\r\n\r\n      }\r\n    }\r\n  }\r\n  &_personTable{\r\n    th,td{text-align: center;}\r\n    th:nth-child(1) {\r\n      width: 80px;\r\n    }\r\n    th:nth-child(2) {\r\n      width: 250px;\r\n    }\r\n    th:nth-child(3) {\r\n      width: 250px;\r\n    }\r\n    th:nth-child(4) {\r\n      width: 250px;\r\n    }\r\n    th:nth-child(5) {\r\n      width: 250px;\r\n    }\r\n  }\r\n  &_carTable{\r\n    margin-top:50px;\r\n    th,td{text-align: center;}\r\n    th:nth-child(1) {\r\n      width: 80px;\r\n    }\r\n\r\n  }\r\n  &_cameraArea{\r\n    width:400px;height:400px;\r\n  }\r\n}\r\n.regIsNull{\r\n  /deep/ .el-input__inner{\r\n    border: 1px solid #F56C6C;\r\n    border-radius: 5px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tempVisitInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tempVisitInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tempVisitInput.vue?vue&type=template&id=11723a24&scoped=true&\"\nimport script from \"./tempVisitInput.vue?vue&type=script&lang=js&\"\nexport * from \"./tempVisitInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tempVisitInput.vue?vue&type=style&index=0&id=11723a24&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11723a24\",\n  null\n  \n)\n\ncomponent.options.__file = \"tempVisitInput.vue\"\nexport default component.exports","require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n"],"sourceRoot":""}