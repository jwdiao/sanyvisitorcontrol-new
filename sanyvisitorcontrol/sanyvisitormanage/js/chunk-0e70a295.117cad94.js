(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e70a295"],{"0a49":function(e,t,r){var a=r("9b43"),o=r("626a"),n=r("4bf8"),i=r("9def"),s=r("cd1c");e.exports=function(e,t){var r=1==e,l=2==e,u=3==e,c=4==e,d=6==e,p=5==e||d,m=t||s;return function(t,s,h){for(var f,g,v=n(t),b=o(v),y=a(s,h,3),k=i(b.length),S=0,w=r?m(t,k):l?m(t,0):void 0;k>S;S++)if((p||S in b)&&(f=b[S],g=y(f,S,v),e))if(r)w[S]=g;else if(g)switch(e){case 3:return!0;case 5:return f;case 6:return S;case 2:w.push(f)}else if(c)return!1;return d?-1:u||c?c:w}}},"0bfb":function(e,t,r){"use strict";var a=r("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},1169:function(e,t,r){var a=r("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"365c":function(e,t,r){"use strict";r.d(t,"A",function(){return n}),r.d(t,"h",function(){return i}),r.d(t,"r",function(){return s}),r.d(t,"x",function(){return l}),r.d(t,"t",function(){return u}),r.d(t,"y",function(){return c}),r.d(t,"u",function(){return d}),r.d(t,"s",function(){return p}),r.d(t,"i",function(){return m}),r.d(t,"q",function(){return h}),r.d(t,"p",function(){return f}),r.d(t,"l",function(){return g}),r.d(t,"M",function(){return v}),r.d(t,"n",function(){return b}),r.d(t,"N",function(){return y}),r.d(t,"g",function(){return k}),r.d(t,"C",function(){return S}),r.d(t,"f",function(){return w}),r.d(t,"S",function(){return x}),r.d(t,"P",function(){return I}),r.d(t,"R",function(){return C}),r.d(t,"O",function(){return P}),r.d(t,"w",function(){return D}),r.d(t,"E",function(){return N}),r.d(t,"I",function(){return R}),r.d(t,"K",function(){return B}),r.d(t,"v",function(){return O}),r.d(t,"e",function(){return U}),r.d(t,"B",function(){return A}),r.d(t,"J",function(){return T}),r.d(t,"L",function(){return V}),r.d(t,"U",function(){return F}),r.d(t,"T",function(){return E}),r.d(t,"b",function(){return $}),r.d(t,"c",function(){return j}),r.d(t,"a",function(){return W}),r.d(t,"m",function(){return _}),r.d(t,"o",function(){return z}),r.d(t,"F",function(){return L}),r.d(t,"Q",function(){return M}),r.d(t,"G",function(){return G}),r.d(t,"z",function(){return q}),r.d(t,"D",function(){return J}),r.d(t,"d",function(){return H}),r.d(t,"k",function(){return K}),r.d(t,"j",function(){return Q}),r.d(t,"H",function(){return X});r("cadf"),r("551c"),r("097d");var a=r("c1fb"),o=r("b1ef"),n=function(e,t,r){return a["a"].post("".concat(o["a"],"/visitorcontrol/SanyBussVisitor/getVisitorToES"),{pageNum:e,pageSize:t,query:r})},i=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/SanyBussVisitor/getVisitorDetails"),{visitorId:e})},s=function(e,t,r){return a["a"].post("".concat(o["a"],"/visitorcontrol/SanyBussVisitor/getVisitorHistoryToES"),{pageNum:e,pageSize:t,query:r})},l=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBasicPark/getParkList"),{parkName:e})},u=function(e,t,r,n){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBasicPark/insertPark"),{parkName:e,parkCode:t,parkPosition:r,remark:n})},c=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBussParkGater/getParkEmployerList"),{userName:e})},d=function(e,t,r,n,i){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBussParkGater/insertParkEmployer"),{userName:e,parkCode:t,userCode:r,org:n,remark:i})},p=function(e,t){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBasicParkOrg/givePower"),{parkCode:e,orgs:t})},m=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/selectUsersByUserNo"),{loginAccount:e})},h=function(){return a["a"].get("".concat(o["a"],"/user/SanyBasicShrUser/treeFast"))},f=function(){return a["a"].get("".concat(o["a"],"/user/SanyBasicShrUser/treeFastOut"))},g=function(e,t,r,n){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBasicPark/updPark"),{parkId:e,parkName:t,parkPosition:r,remark:n})},v=function(e,t){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBasicPark/delPark"),{parkId:e,parkCode:t})},b=function(e,t,r,n,i,s){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBussParkGater/updParkEmployer"),{parkEmployerId:e,parkCode:t,userCode:r,userName:n,remark:i,org:s})},y=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBussParkGater/delParkEmployer"),{parkEmployerId:e})},k=function(){return a["a"].get("".concat(o["a"],"/visitorcontrol/sanyGateBrake/getCodeNameByTypeCode"))},S=function(e,t,r){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyGateBrake/getBusGatesByPark"),{query:{parkName:e},pageNum:t,pageSize:r})},w=function(e,t,r,n,i){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyGateBrake/addBusGatesByPark"),{gateName:e,parkCode:t,parkName:r,typeCode:n,typeName:i})},x=function(e,t){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/treeFastOutAndOutTrees"),{query:{},pageNum:e,pageSize:t})},I=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/insertSanyBasicShrOrg"),{fatherId:e.fatherId,orgText:e.orgText,orgLevel:e.orgLevel})},C=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/selectSanyBasicShrOrgByOrgText"),{orgText:e})},P=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/deleteSanyBasicShrOrg"),{orgId:e})},D=function(){return a["a"].get("".concat(o["a"],"/user/SanyBasicShrUser/outTreeHasPrivillege"))},N=function(e,t,r,n,i,s){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/selectEmployerRoleResponseDtoByCondition"),{query:{isImgUrl:e,imgVerify:t,userName:r,orgIds:n},pageNum:i,pageSize:s})},R=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/importExecel"),e)},B=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/uploadByZip"),e)},O=function(e,t,r,n,i,s,l,u,c,d,p,m,h){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/insertSanyBasicShrEmployer"),{userName:e,userNo:t,telephone:r,idCard:n,userSex:i,brithday:s,org:l,imgUrlUpload:u,roleCode:c,roleName:d,parkCode:p,parkName:m,employerType:h})},U=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/outTreeHasPrivillegeBack"),{parkCode:e})},A=function(){return a["a"].get("".concat(o["a"],"/user/SanyBasicShrUser/selectRolesNoPage"))},T=function(e){return a["a"].postFileData("".concat(o["a"],"/user/SanyBasicShrUser/fileUploadForOutEmployers"),e)},V=function(e){return a["a"].postFileData("".concat(o["a"],"/user/SanyBasicShrUser/fileUploadForOutEmployersPhoto"),{imgStr:e})},F=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/selectAllByUserName"),{query:{userName:e.userName,orgIds:e.orgIds},pageNum:e.pageNum,pageSize:e.pageSize})},E=function(e){return a["a"].postFileData("".concat(o["a"],"/user/SanyBasicShrUser/resetLoginPwd"),{loginAccount:e})},$=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyGateBrake/removeBusGatesByPark"),{id:e})},j=function(e,t){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyGateBrake/modifyBusGatesByPark"),{id:e,gateName:t})},W=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/sanyBasicPark/getParkListByParkCode"),{parkCode:e})},_=function(e,t){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/modifySanyBasicShrOrg"),{id:e,orgText:t})},z=function(e,t,r,n,i,s,l,u,c,d){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/modifySanyBasicShrEmployer"),{id:e,userName:t,telephone:r,idCard:n,roleCode:i,roleName:s,parkCode:l,parkName:u,birthday:c,imgUrlUpload:d})},L=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/SanyBussVisitor/sendOneMessage"),{messageDto:e})},M=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/lowerHair"),{userNo:e})},G=function(e){return a["a"].post("".concat(o["a"],"/visitorcontrol/SanyBussVisitor/sendImg"),{visitorId:e})},q=function(e,t){return a["a"].postFileData("".concat(o["a"],"/visitorcontrol/SanyBussVisitor/fileUploadForVisitorsUpdate?id=").concat(t),e)},J=function(e,t,r,n,i){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/selectBussParkCarByCondition"),{query:{carNo:e,userName:t,userNo:r},pageNum:n,pageSize:i})},H=function(e,t,r,n,i){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/insertBussParkCar"),{userNo:e,userName:t,carType:r,carNo:n,remark:i})},K=function(e,t,r,n){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/modifyBussParkCar"),{id:e,carNo:t,carType:r,remark:n})},Q=function(e){return a["a"].post("".concat(o["a"],"/user/SanyBasicShrUser/removeBussParkCar"),{id:e})},X=function(e){return a["a"].postFileData("".concat(o["a"],"/user/SanyBasicShrUser/importExcel"),e)}},3846:function(e,t,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"3b00":function(e,t,r){},"47d5":function(e,t,r){"use strict";r.d(t,"g",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"e",function(){return l}),r.d(t,"d",function(){return u}),r.d(t,"c",function(){return c}),r.d(t,"j",function(){return d}),r.d(t,"b",function(){return p}),r.d(t,"k",function(){return m}),r.d(t,"i",function(){return h}),r.d(t,"h",function(){return f}),r.d(t,"f",function(){return g});r("96cf");var a=r("3b8d"),o=(r("cadf"),r("551c"),r("097d"),r("c1fb")),n=r("b1ef"),i=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/getVisitorAllByVisitorName"),{pageNum:t,pageSize:r,query:{visitorName:a}}));case 1:case"end":return e.stop()}},e,this)}));return function(t,r,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/addApply"),t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=function(e){return o["a"].postFileData("".concat(n["a"],"/user/SanyBasicShrUser/fileUploadForVisitors"),e)},u=function(e){return o["a"].post("".concat(n["a"],"/user/SanyBasicShrUser/fileUploadForOutEmployersPhoto"),{imgStr:e})},c=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/confirmVisit"),{visitorId:t,source:r}));case 1:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/invalid"),{visitorId:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/cancel"),{visitorId:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/manualEnd"),{visitorId:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r,a,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/getVisitorHistory"),{pageNum:t,pageSize:r,query:{startTime:a,endTime:i}}));case 1:case"end":return e.stop()}},e,this)}));return function(t,r,a,o){return e.apply(this,arguments)}}(),f=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/getVisitorDetails"),{visitorId:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(n["a"],"/visitorcontrol/SanyBussVisitor/getNamesByLike"),{queryStr:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},5176:function(e,t,r){e.exports=r("51b6")},"6b54":function(e,t,r){"use strict";r("3846");var a=r("cb7c"),o=r("0bfb"),n=r("9e1e"),i="toString",s=/./[i],l=function(e){r("2aba")(RegExp.prototype,i,e,!0)};r("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!n&&e instanceof RegExp?o.call(e):void 0)}):s.name!=i&&l(function(){return s.call(this)})},7514:function(e,t,r){"use strict";var a=r("5ca1"),o=r("0a49")(5),n="find",i=!0;n in[]&&Array(1)[n](function(){i=!1}),a(a.P+a.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(n)},"7f7f":function(e,t,r){var a=r("86cc").f,o=Function.prototype,n=/^\s*function ([^ (]*)/,i="name";i in o||r("9e1e")&&a(o,i,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},"920c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticClass:"marginTop20",attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{},[r("el-tree",{ref:"tree",attrs:{data:e.dataTree,props:e.defaultProps,"node-key":"flag","default-expanded-keys":[1],"highlight-current":"","show-checkbox":""},on:{"node-click":e.handleNodeClick}})],1)]),r("el-col",{attrs:{span:20}},[r("div",{},[r("el-form",{staticClass:"marginTop20 common-form-inline dataPhoto",attrs:{inline:!0,model:e.formInline,size:"medium"}},[r("el-form-item",{attrs:{label:"员工姓名"}},[r("el-input",{staticClass:"dataPhoto",attrs:{placeholder:"员工姓名"},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}})],1),r("el-form-item",{attrs:{label:"是否录入照片"}},[r("el-select",{staticClass:"dataPhoto",attrs:{placeholder:"请选择"},model:{value:e.formInline.enterPhoto,callback:function(t){e.$set(e.formInline,"enterPhoto",t)},expression:"formInline.enterPhoto"}},[r("el-option",{attrs:{label:"全部",value:"0"}}),r("el-option",{attrs:{label:"未录入",value:"2"}}),r("el-option",{attrs:{label:"已录入",value:"1"}})],1)],1),r("el-form-item",{attrs:{label:"是否满足要求"}},[r("el-select",{staticClass:"dataPhoto",attrs:{placeholder:"请选择"},model:{value:e.formInline.meetDemand,callback:function(t){e.$set(e.formInline,"meetDemand",t)},expression:"formInline.meetDemand"}},[r("el-option",{attrs:{label:"全部",value:""}}),r("el-option",{attrs:{label:"是",value:"1"}}),r("el-option",{attrs:{label:"否",value:"2"}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),r("el-form-item",[r("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{display:"inline-block",background:"none"},attrs:{id:"formBiao",limit:1,accept:".xls,.xlsx",action:"/userPushRecord/find/all","on-change":e.beforeUpload,"on-exceed":e.handleExceed,"on-remove":e.removeDoc,"http-request":e.uploadSectionFile,"auto-upload":!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{slot:"trigger",id:"upload-document",type:"primary"},slot:"trigger"},[e._v("数据导入")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v("确定")])],1)],1),r("el-form-item",[r("el-upload",{ref:"uploadImage",staticClass:"upload-demo",staticStyle:{display:"inline-block",background:"none"},attrs:{id:"formImage",limit:1,accept:".zip",action:"/userPushRecord/find/all","on-change":e.beforeUploadImages,"on-exceed":e.handleExceedImages,"on-remove":e.removeImages,"before-upload":e.onBeforeUploadImage,"http-request":e.uploadSectionImageFile,"auto-upload":!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShowImage,expression:"isShowImage"}],attrs:{slot:"trigger",id:"upload-images",type:"primary"},slot:"trigger"},[e._v("照片导入")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isShowImage,expression:"!isShowImage"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.submitUploadImages}},[e._v("确定")])],1)],1),r("br"),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),r("div",{staticClass:"common-table"},[r("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",height:"590px",data:e.tableData,"header-row-class-name":"table-header"}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),r("el-table-column",{attrs:{prop:"sanyBasicShrOrg.orgText",label:"归属部门"}}),r("el-table-column",{attrs:{prop:"userName",label:"姓名"}}),r("el-table-column",{attrs:{prop:"telephone",label:"电话号码"}}),r("el-table-column",{attrs:{prop:"idCard",width:"170",label:"身份证号"}}),r("el-table-column",{attrs:{prop:"isFa",label:"下发状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-text",{directives:[{name:"show",rawName:"v-show",value:"1"===t.row.isSub,expression:"scope.row.isSub==='1'"}],attrs:{size:"mini",type:"text"}},[e._v("已下发")]),r("el-text",{directives:[{name:"show",rawName:"v-show",value:"2"===t.row.isSub,expression:"scope.row.isSub==='2'"}],attrs:{size:"mini",type:"text"}},[e._v("未下发")])]}}])}),r("el-table-column",{attrs:{label:"照片合规性"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-text",{directives:[{name:"show",rawName:"v-show",value:"1"===t.row.imgVerify,expression:"scope.row.imgVerify==='1'"}],attrs:{size:"mini",type:"text"}},[e._v("合规")]),r("el-text",{directives:[{name:"show",rawName:"v-show",value:"2"===t.row.imgVerify,expression:"scope.row.imgVerify==='2'"}],attrs:{size:"mini",type:"text"}},[e._v("不合规")])]}}])}),r("el-table-column",{attrs:{label:"照片上传"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"!==t.row.imgVerify?r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(r){e.handleLookPhoto(t.$index,t.row)}}},[e._v("查看照片")]):r("el-text",[e._v("未上传")])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(r){e.handleEditOuterWorkerManage(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1)],1),r("div",{staticClass:"marginTop10 text-right"},[r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[20,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),r("div",{staticClass:"addVisitorDialog"},[r("el-dialog",{attrs:{title:"员工管理信息",width:"1200px",visible:e.editOuterWorkerManageList,"close-on-click-modal":!1,"before-close":e.editOuterWorkerManageDialogClose},on:{"update:visible":function(t){e.editOuterWorkerManageList=t}}},[r("el-form",{ref:"workerManageList",staticClass:"marginTop20 common-form-inline addVisitorDialog_form editWorkerMaganage",attrs:{model:e.outWorkerEditForm,rules:e.editRules,size:"medium","label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.outWorkerEditForm.userName,callback:function(t){e.$set(e.outWorkerEditForm,"userName",t)},expression:"outWorkerEditForm.userName"}})],1),r("el-form-item",{attrs:{label:"电话号码",prop:"telephone"}},[r("el-input",{attrs:{placeholder:"请输入电话号码"},on:{change:e.changeTelephoto},model:{value:e.outWorkerEditForm.telephone,callback:function(t){e.$set(e.outWorkerEditForm,"telephone",t)},expression:"outWorkerEditForm.telephone"}})],1),r("el-form-item",{attrs:{label:"身份证号",prop:"idCard"}},[r("el-input",{attrs:{placeholder:"请输入身份证号"},on:{change:e.editInputIDCard},model:{value:e.outWorkerEditForm.idCard,callback:function(t){e.$set(e.outWorkerEditForm,"idCard",t)},expression:"outWorkerEditForm.idCard"}})],1),r("el-form-item",{attrs:{label:"出生日期"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"请选择出生年月",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.editDateValue,callback:function(t){e.editDateValue=t},expression:"editDateValue"}})],1),r("el-form-item",{attrs:{label:"角色"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.editSelectAddRole},model:{value:e.editRoleName,callback:function(t){e.editRoleName=t},expression:"editRoleName"}},e._l(e.editSelectRoleOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"所属园区"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.editSelectAddGuishuPark},model:{value:e.editParkName,callback:function(t){e.editParkName=t},expression:"editParkName"}},e._l(e.editSelectParkOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"上传照片"}},[r("div",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formDataAdd.photo,callback:function(t){e.$set(e.formDataAdd,"photo",t)},expression:"formDataAdd.photo"}},[r("el-option",{attrs:{label:"本地上传",value:"本地上传"}}),r("el-option",{attrs:{label:"拍照上传",value:"拍照上传"}})],1),r("el-upload",{ref:e.getUpload(),staticClass:"upload-demo",attrs:{id:e.getUpload(),action:"string",accept:"image/jpeg,image/png,image/jpg","list-type":"picture","show-file-list":!0,"before-upload":e.onBeforeUploadImage,"http-request":e.UploadImage}},[r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"本地上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='本地上传'"}],attrs:{size:"small",type:"primary"}},[e._v("点击本地上传")])],1)]),r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"拍照上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='拍照上传'"}],staticStyle:{position:"absolute",top:"38px",left:"0px"},attrs:{size:"small",type:"primary"},on:{click:function(t){e.handlePhotoUpload()}}},[e._v("点击拍照上传")])],1)],1)])],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.editOuterWorkerManageCancel()}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.editOuterWorkerManageDialogAddFn(e.outWorkerEditForm)}}},[e._v("提交")])],1)],1)],1),r("el-dialog",{attrs:{title:"园区员工管理","close-on-click-modal":!1,visible:e.dialogVisibles,width:"1200px"},on:{"update:visible":function(t){e.dialogVisibles=t},close:e.handleDialogClose}},[r("div",{staticClass:"addVisitorDialog"},[r("el-form",{ref:"addOuterWorkerInfo",staticClass:"marginTop20 common-form-inline addVisitorDialog_form",attrs:{inline:!0,model:e.formDataAdd,rules:e.rules,size:"medium","label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formDataAdd.username,callback:function(t){e.$set(e.formDataAdd,"username",t)},expression:"formDataAdd.username"}})],1),r("el-form-item",{attrs:{label:"电话号码",prop:"tel"}},[r("el-input",{attrs:{placeholder:"请输入电话号码"},on:{change:e.changeTelephoto},model:{value:e.formDataAdd.tel,callback:function(t){e.$set(e.formDataAdd,"tel",t)},expression:"formDataAdd.tel"}})],1),r("el-form-item",{attrs:{label:"身份证号",prop:"card"}},[r("el-input",{attrs:{placeholder:"请输入身份证号"},on:{change:e.handleInputIDCard},model:{value:e.formDataAdd.card,callback:function(t){e.$set(e.formDataAdd,"card",t)},expression:"formDataAdd.card"}})],1),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio",{staticClass:"maleStyle",attrs:{label:"男"},model:{value:e.sexRadio,callback:function(t){e.sexRadio=t},expression:"sexRadio"}},[e._v("男")]),r("el-radio",{staticClass:"femaleStyle",attrs:{label:"女"},model:{value:e.sexRadio,callback:function(t){e.sexRadio=t},expression:"sexRadio"}},[e._v("女")])],1),r("el-form-item",{attrs:{label:"员工类别",prop:"personType"}},[r("el-select",{attrs:{placeholder:"请选择员工类别"},on:{change:e.selectPersonType},model:{value:e.formDataAdd.personType,callback:function(t){e.$set(e.formDataAdd,"personType",t)},expression:"formDataAdd.personType"}},[r("el-option",{attrs:{label:"内部员工",value:"内部员工"}}),r("el-option",{attrs:{label:"外部员工",value:"外部员工"}})],1)],1),r("el-form-item",{attrs:{label:"员工工号",prop:"userno"}},[r("el-input",{attrs:{placeholder:"请输入内部员工工号",disabled:e.isShowAddListTree},model:{value:e.formDataAdd.userno,callback:function(t){e.$set(e.formDataAdd,"userno",t)},expression:"formDataAdd.userno"}})],1),r("el-form-item",{attrs:{label:"出生日期"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"请选择出生年月",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.selectDateValue,callback:function(t){e.selectDateValue=t},expression:"selectDateValue"}})],1),r("el-form-item",{attrs:{label:"角色"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectAddRole},model:{value:e.selectRoleName,callback:function(t){e.selectRoleName=t},expression:"selectRoleName"}},e._l(e.selectRoleOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"所属园区"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectAddGuishuPark},model:{value:e.selectGuishuParkName,callback:function(t){e.selectGuishuParkName=t},expression:"selectGuishuParkName"}},e._l(e.selectParkOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{staticStyle:{width:"700px"},attrs:{label:"上传照片",prop:"photo"}},[r("div",[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formDataAdd.photo,callback:function(t){e.$set(e.formDataAdd,"photo",t)},expression:"formDataAdd.photo"}},[r("el-option",{attrs:{label:"本地上传",value:"本地上传"}}),r("el-option",{attrs:{label:"拍照上传",value:"拍照上传"}})],1),r("el-upload",{ref:e.getUpload(),staticClass:"upload-demo",attrs:{id:e.getUpload(),action:"string",accept:"image/jpeg,image/png,image/jpg","list-type":"picture","show-file-list":!0,"before-upload":e.onBeforeUploadImage,"before-remove":e.onBeforeRemoveImage,"http-request":e.UploadImage,"on-preview":e.handlePictureCardPreview,"on-remove":e.handlePictureCardRemove}},[r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"本地上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='本地上传'"}],attrs:{size:"small",type:"primary"}},[e._v("点击本地上传")])],1)]),r("el-dialog",{attrs:{visible:e.dialogVisibleBendiUpload},on:{"update:visible":function(t){e.dialogVisibleBendiUpload=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"拍照上传"===e.formDataAdd.photo,expression:"formDataAdd.photo==='拍照上传'"}],staticStyle:{position:"absolute",top:"38px",left:"0px"},attrs:{size:"small",type:"primary"},on:{click:function(t){e.handlePhotoUpload()}}},[e._v("点击拍照上传")])],1)],1)]),r("el-form-item",{staticStyle:{width:"700px"}},[r("el-text",[e._v("当前归属组织:     "+e._s(e.formDataAdd.orgText))])],1),r("el-form-item",{staticStyle:{width:"700px"},attrs:{label:"归属组织",prop:"org"}},[r("el-tree",{attrs:{data:e.dataTanchuangTree,props:e.defaultPropsTan},on:{"node-click":e.tanchuangClick},model:{value:e.formDataAdd.org,callback:function(t){e.$set(e.formDataAdd,"org",t)},expression:"formDataAdd.org"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleDialogCancle}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogConfirm}},[e._v("确 定")])],1)]),r("div",{staticClass:"tempVisitInput_camera"},[r("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"1100px","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",[r("input",{attrs:{type:"hidden",value:"",id:"photoUrl"}}),r("iframe",{attrs:{width:"100%",height:"400",frameborder:"0",src:"http://10.19.8.22:8081/sanyvisitorcontrol/photo/photo.html",id:"myframe",name:"myframe"}})]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirmCamera}},[e._v("确 定")])],1)])],1),r("el-dialog",{staticClass:"edit-form",attrs:{title:"图片信息",visible:e.dialogVisibleImg,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisibleImg=t}}},[r("div",{staticClass:"inputText",staticStyle:{display:"flex","justify-content":"center","align-items":"center",overflow:"hidden"}},[r("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.photoImageUrl,alt:""}})]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.dialogVisibleImg=!1}}},[e._v("取消")])],1)])],1)},o=[],n=(r("7f7f"),r("5176")),i=r.n(n),s=(r("7514"),r("6b54"),r("96cf"),r("3b8d")),l=(r("cadf"),r("551c"),r("097d"),r("c1fb"),r("47d5"),r("365c")),u=r("9a38"),c={name:"ExternalStaffManage",data:function(){return{dataTree:[],orgId:[],defaultProps:{children:"nodes",label:"orgText",disabled:this.disabledFn},editOuterWorkerManageList:!1,editRules:{userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],telephone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证",trigger:"blur"}]},outWorkerEditForm:{userName:"",telephone:"",idCard:"",editId:""},editRoleName:"",editRoleCode:"",editDateValue:"",editParkName:"",editParkCode:"",editSelectParkOptions:[],editSelectRoleOptions:[{value:"1",label:"员工"},{value:"2",label:"门岗"}],dialogVisibleBendiUpload:!1,dialogVisibleImg:!1,dialogVisibles:!1,dialogVisible:!1,formDataAdd:{username:"",userno:"",tel:"",card:"",photo:"",selecetSex:"",personType:"",org:"",orgText:""},rules:{username:[{required:!0,message:"请输入姓名",trigger:"blur"}],tel:[{required:!0,message:"请输入电话号码",trigger:"blur"}],card:[{required:!0,message:"请输入身份证",trigger:"blur"}],personType:[{required:!0,message:"请输入员工类型",trigger:"blur"}],photo:[{required:!0,message:"请上传图片",trigger:"blur"}],org:[{required:!0,message:"请选择组织",trigger:"blur"}]},selectRoleOptions:[{value:"1",label:"员工"},{value:"2",label:"门岗"}],selectParkOptions:[],selectRoleName:"",selectRoleCode:"",selectGuishuParkName:"",selectGuishuParkCode:"",selectDateValue:"",sexRadio:"",org:"",uploadImageUrl:"",dialogImageUrl:"",isUndisabeld:!0,isShow:!0,isShowImage:!0,isShowAddListTree:!0,photoImageUrl:"",dataTanchuangTree:[],dataTanchuangInnerTree:[],defaultPropsTan:{children:"nodes",label:"orgText"},defaultPropsTanInner:{children:"nodes",label:"orgText"},formInline:{username:"",enterPhoto:"",meetDemand:""},tableData:[],currentPage:1,pageSize:20,total:0,isShowAddDialog:!1}},mounted:function(){this.getOuterTrees();var e=this.formInline,t=e.enterPhoto,r=e.meetDemand,a=e.username,o=this.currentPage,n=this.pageSize,i=this.orgId;this.getSearchListFun(t,r,a,i,o,n);var s="";this.getSelectParkItem(s)},methods:{disabledFn:function(e,t){return 2===e.flag},getOuterTrees:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["w"])();case 2:t=e.sent,200===t.data.code&&(r=JSON.parse(t.data.data),this.dataTree.push(r[0]),console.log("resTree:",this.dataTree));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getSearchListFun:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r,a,o,n,i){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["E"])(t,r,a,o,n,i);case 2:s=e.sent,200===s.data.code&&(this.tableData=s.data.data.list,this.total=s.data.data.total,console.log("主列表返回的list:",this.tableData));case 4:case"end":return e.stop()}},e,this)}));function t(t,r,a,o,n,i){return e.apply(this,arguments)}return t}(),beforeUpload:function(e,t){this.isShow=!1},beforeUploadImages:function(e,t){this.isShowImage=!1},removeDoc:function(e,t){this.isShow=!0},removeImages:function(e,t){this.isShowImage=!0},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleExceedImages:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleInputIDCard:function(){Object(u["a"])(this.formDataAdd.card,this),this.formDataAdd.card.length>=14&&this.getStartTime()},editInputIDCard:function(){if(Object(u["a"])(this.outWorkerEditForm.idCard,this),this.outWorkerEditForm.idCard.length>=14){var e=this.outWorkerEditForm.idCard,t=e.toString().substr(6,4),r=e.substr(10,2),a=e.substr(12,2);this.editDateValue=t+"-"+r+"-"+a}},changeTelephoto:function(){Object(u["b"])(this.formDataAdd.tel,this)},getStartTime:function(){var e=this.formDataAdd.card,t=e.toString().substr(6,4),r=e.substr(10,2),a=e.substr(12,2);this.selectDateValue=t+"-"+r+"-"+a},submitUpload:function(){var e=document.getElementsByClassName("el-upload-list__item is-ready");0!=e.length?this.$refs.upload.submit():this.$message({type:"warning",message:"请选择需要导入的模板！"})},uploadSectionFile:function(e){var t=e.file,r=new FormData(this.$refs.upload);r.append("file",t),this.uploadDataFun(r)},uploadDataFun:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["I"])(t);case 2:r=e.sent,200===r.data.code&&(this.$message({type:"success",message:r.data.data}),console.log("res:",r),this.$refs.upload.clearFiles(),this.isShow=!0);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submitUploadImages:function(){var e=document.getElementsByClassName("el-upload-list__item is-ready");0!=e.length?this.$refs.uploadImage.submit():this.$message({type:"warning",message:"请选择需要导入的模板！"})},uploadSectionImageFile:function(e){var t=e.file,r=new FormData(this.$refs.uploadImage);r.append("file",t),this.uploadImageDataFun(r)},uploadImageDataFun:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,a,o,n,i,s,u,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["K"])(t);case 2:r=e.sent,200===r.data.code&&(this.$message({type:"success",message:r.data.data}),a=this.formInline,o=a.enterPhoto,n=a.meetDemand,i=a.username,s=this.currentPage,u=this.pageSize,c=this.orgId,this.getSearchListFun(o,n,i,c,s,u),this.$refs.uploadImage.clearFiles(),this.isShowImage=!0);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleNodeClick:function(e,t,r){console.log("data:",e),console.log("node:",t),console.log("aa:",r)},onSubmit:function(){var e=this.formInline,t=e.enterPhoto,r=e.meetDemand,a=e.username,o=this.currentPage,n=this.pageSize;this.orgId=this.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),this.getSearchListFun(t,r,a,this.orgId,o,n)},handleSizeChange:function(e){var t=this.formInline,r=t.enterPhoto,a=t.meetDemand,o=t.username;this.pageSize=e;var n=this.currentPage;this.orgId=this.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),this.getSearchListFun(r,a,o,this.orgId,n,this.pageSize)},handleCurrentChange:function(e){var t=this.formInline,r=t.enterPhoto,a=t.meetDemand,o=t.username;this.currentPage=e;this.pageSize;this.orgId=this.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),this.getSearchListFun(r,a,o,this.orgId,this.currentPage,this.pageSize)},handleLookPhoto:function(e,t){this.dialogVisibleImg=!0,this.photoImageUrl=t.imgUrlUpload,console.log("imageUrl:",this.photoImageUrl)},handleLookCardPhoto:function(e,t){console.log(e,t)},handleAdd:function(){this.dialogVisibles=!0,this.addDepatment()},addDepatment:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["p"])();case 2:t=e.sent,200===t.data.code&&(this.dataTanchuangTree=JSON.parse(t.data.data));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addDepatmentInner:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["q"])();case 2:t=e.sent,200===t.data.code&&(this.dataTanchuangInnerTree=JSON.parse(t.data.data));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),tanchuangClick:function(e){this.formDataAdd.org=e.orgId,this.formDataAdd.orgText=e.orgText},tanchuangInnerClick:function(e){this.formDataAdd.org=e.orgId,this.formDataAdd.orgText=e.orgText},getUpload:function(){return"uploadPerson0"},onBeforeUploadImage:function(e){var t="image/jpeg"===e.type||"image/jpg",r=e.size/1024/1024<2;return t||this.$message.error("上传文件只能是图片格式!"),r||this.$message.error("上传文件大小不能超过 1MB!"),t&&r},UploadImage:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="uploadPerson0",this.formDataAdd.card,a=new FormData(document.getElementById("".concat(r))),a.append("file",t.file),e.next=6,Object(l["J"])(a);case 6:o=e.sent,200===o.data.code&&(this.$message({type:"success",message:"上传成功"}),this.uploadImageUrl=o.data.data,console.log("上传图片后返回的路径data：",this.uploadImageUrl));case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getTakePhoto:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["L"])(t);case 2:r=e.sent,200===r.data.code&&(this.$message({type:"success",message:"上传成功"}),this.uploadImageUrl=r.data.data,console.log("拍照返回的路径data：",this.uploadImageUrl));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e(),Webcam.reset()}).catch(function(e){})},handlePhotoUpload:function(){this.dialogVisible=!0,myframe.window.Webcam.attach("#my_camera")},handleConfirmCamera:function(){this.dialogVisible=!1;var e=myframe.window.getTakePhotoUrl();console.log("图片地址:",e),this.getTakePhoto(e),myframe.window.Webcam.reset();var t=this.formInline,r=t.enterPhoto,a=t.meetDemand,o=t.username,n=this.currentPage,i=this.pageSize,s=this.orgId;this.getSearchListFun(r,a,o,s,n,i)},handleDialogConfirm:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.addOuterWorkerInfo.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){var a,o,n,i,s,l,u,c,d,p,m,h,f,g,v,b,y,k,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:a=t.formDataAdd,o=a.username,n=a.userno,i=a.tel,s=a.card,l=a.personType,u=a.org,c=t.selectDateValue,d=t.sexRadio,p=t.selectRoleName,m=t.selectRoleCode,h=t.selectGuishuParkName,f=t.selectGuishuParkCode,g=t.uploadImageUrl,"男"===d?t.sexRadio="1":"女"===d&&(t.sexRadio="2"),"内部员工"===l?t.personType="01":"外部员工"===l&&(t.personType="02"),t.addApplyRequestData(o,n,i,s,t.sexRadio,c,u,g,m,p,f,h,t.personType),t.dialogVisibles=!1,v=t.formInline,b=v.enterPhoto,y=v.meetDemand,k=t.currentPage,S=t.pageSize,t.orgId=t.$refs.tree.getCheckedNodes().map(function(e){return e.orgId}),t.getSearchListFun(b,y,t.formInline.username,t.orgId,k,S);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),selectAddRole:function(e){var t={};t=this.selectRoleOptions.find(function(t){return t.value===e}),this.selectRoleName=t.label,this.selectRoleCode=t.value},selectAddGuishuPark:function(e){var t={};t=this.selectParkOptions.find(function(t){return t.value===e}),this.selectGuishuParkName=t.label,this.selectGuishuParkCode=t.value},selectPersonType:function(){"内部员工"===this.formDataAdd.personType?(this.isShowAddListTree=!1,console.log("内部员工")):(this.isShowAddListTree=!0,this.formDataAdd.userno="",console.log("外部员工"))},getRoleList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["B"])();case 2:if(t=e.sent,200===t.data.code)for(r=t.data.data,a=0;a<r.length;a++)o={},o.value=r[a].roleCode,o.label=r[a].roleName,this.selectRoleOptions.push(o);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getSelectParkItem:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,a,o,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["x"])(t);case 2:if(r=e.sent,200===r.data.code)for(a=r.data.data,o=0;o<a.length;o++)n={},n.value=a[o].parkCode,n.label=a[o].parkName,this.selectParkOptions.push(n),this.editSelectParkOptions.push(n);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addApplyRequestData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r,a,o,n,i,s,u,c,d,p,m,h){var f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["v"])(t,r,a,o,n,i,s,u,c,d,p,m,h);case 2:if(f=e.sent,f&&200===f.data.code){e.next=6;break}return this.$message({type:"error",message:f.data.data}),e.abrupt("return");case 6:this.$message({type:"success",message:f.data.data}),this.formDataAdd.username="",this.formDataAdd.tel="",this.formDataAdd.card="",this.formDataAdd.personType="",this.selectDateValue="",this.sexRadio="",this.selectRoleName="",this.selectRoleCode="",this.selectGuishuParkName="",this.selectGuishuParkCode="",this.formDataAdd.org="",this.uploadImageUrl="",this.photoImageUrl="";case 20:case"end":return e.stop()}},e,this)}));function t(t,r,a,o,n,i,s,l,u,c,d,p,m){return e.apply(this,arguments)}return t}(),handleDialogCancle:function(){this.dialogVisibles=!1,this.$emit("cancleadddialog",this.dialogVisibles)},handleDialogClose:function(){this.dialogVisibles=!1,this.$emit("confirmadddialog",this.dialogVisibles)},editOuterWorkerManageDialogClose:function(){this.editOuterWorkerManageList=!1},editOuterWorkerManageCancel:function(){this.editOuterWorkerManageList=!1},editSelectAddGuishuPark:function(e){var t={};t=this.editSelectParkOptions.find(function(t){return t.value===e}),this.outWorkerEditForm.editParkName=t.label,this.outWorkerEditForm.editParkCode=t.value},editSelectAddRole:function(e){var t={};t=this.editSelectRoleOptions.find(function(t){return t.value===e}),this.editRoleName=t.label,this.editRoleCode=t.value,console.log("editRoleName:",this.editRoleName),console.log("editRoleName:",this.editRoleCode)},handleEditOuterWorkerManage:function(e,t){this.editOuterWorkerManageList=!0,this.outWorkerEditForm=i()({},t),console.log("row:",t),this.outWorkerEditForm.userName=t.userName,this.outWorkerEditForm.telephone=t.telephone,this.outWorkerEditForm.idCard=t.idCard,this.editDateValue=t.brithday,this.editRoleName=t.roleName,this.editRoleCode=t.roleCode,this.editParkName=t.parkName,this.editParkCode=t.parkCode,this.outWorkerEditForm.editId=t.id},editOuterWorkerManageDialogAddFn:function(e){var t=this;this.$refs.workerManageList.validate(function(){var r=Object(s["a"])(regeneratorRuntime.mark(function r(a){var o,n,i,s,l,u,c,d,p,m,h;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(a){r.next=2;break}return r.abrupt("return");case 2:t.editOuterWorkerManageList=!1,console.log("val:",e),o=t.outWorkerEditForm,n=o.userName,i=o.telephone,s=o.idCard,l=o.editId,u=t.uploadImageUrl,c=t.editDateValue,d=t.editRoleName,p=t.editRoleCode,m=t.editParkName,h=t.editParkCode,t.getEditWorkerManage(l,n,i,s,p,d,h,m,c,u);case 7:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}())},getEditWorkerManage:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r,a,o,n,i,s,u,c,d){var p,m,h,f,g,v,b,y;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["o"])(t,r,a,o,n,i,s,u,c,d);case 2:p=e.sent,p&&p.data&&200===p.data.code?(this.$message({type:"success",message:p.data.data}),m=this.formInline,h=m.enterPhoto,f=m.meetDemand,g=m.username,v=this.currentPage,b=this.pageSize,y=this.orgId,this.getSearchListFun(h,f,g,y,v,b),this.outWorkerEditForm.userName="",this.outWorkerEditForm.telephone="",this.outWorkerEditForm.idCard="",this.editDateValue="",this.editRoleName="",this.editRoleCode="",this.editParkName="",this.editParkCode="",this.uploadImageUrl=""):this.$message({type:"error",message:p.data.data});case 4:case"end":return e.stop()}},e,this)}));function t(t,r,a,o,n,i,s,l,u,c){return e.apply(this,arguments)}return t}(),handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisibleBendiUpload=!0},handlePictureCardRemove:function(e,t){},onBeforeRemoveImage:function(e,t){return this.$confirm("确定移除".concat(e.name,"?"))}}},d=c,p=(r("c899"),r("2877")),m=Object(p["a"])(d,a,o,!1,null,"04667658",null);m.options.__file="index.vue";t["default"]=m.exports},"9a38":function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});r("cadf"),r("551c"),r("097d");var a=function(e,t){console.log("tel:",e),11===e.length?/^1[3456789]\d{9}$/.test(e)||t.$message({type:"error",message:"手机号码格式错误，请重新输入"}):t.$message({type:"error",message:"请输入11位手机号码"})};function o(e,t){15===e.length?/(^\d{15}$)/.test(e)||t.$message({type:"error",message:"身份证号码格式错误，请重新输入"}):18===e.length?/(^\d{17}([0-9]|x|X)$)/.test(e)||t.$message({type:"error",message:"身份证号码格式错误，请重新输入"}):t.$message({type:"error",message:"请输入15位或18位身份证号码"})}},c899:function(e,t,r){"use strict";var a=r("3b00"),o=r.n(a);o.a},cd1c:function(e,t,r){var a=r("e853");e.exports=function(e,t){return new(a(e))(t)}},e853:function(e,t,r){var a=r("d3f4"),o=r("1169"),n=r("2b4c")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),a(t)&&(t=t[n],null===t&&(t=void 0))),void 0===t?Array:t}}}]);
//# sourceMappingURL=chunk-0e70a295.117cad94.js.map